(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a,n,s=c(10),i=c.n(s),r=c(5),l=c(3),o=(c(16),c(2)),u=c(4),d=c.n(u),j=c(1),b=c.n(j),m=c.p+"static/media/LOGO.13ce922e.svg",O=(c(17),c(0)),h=function(){return Object(O.jsx)(r.b,{to:"/",children:Object(O.jsx)("img",{src:m,alt:"logo",className:"Logo"})})},x=(c(19),function(){var e=Object(j.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(j.useEffect)((function(){window.addEventListener("scroll",(function(){window.scrollY>0?a(!0):a(!1)}))}),[]),Object(O.jsx)("footer",{className:"Footer",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"Footer__content",children:[Object(O.jsx)(h,{}),Object(O.jsxs)("div",{className:"Footer__socials",children:[Object(O.jsx)(r.b,{to:"/",className:"link Footer__link",children:"GitHub"}),Object(O.jsx)(r.b,{to:"/",className:"link Footer__link",children:"Contacts"}),Object(O.jsx)(r.b,{to:"/",className:"link Footer__link",children:"Rights"})]}),Object(O.jsxs)("div",{className:d()("Footer__back",{"Footer__back--hidden":!c}),children:[Object(O.jsx)("p",{className:"Footer__text text",children:"Back to top"}),Object(O.jsx)("button",{type:"button",onClick:function(){return window.scrollTo(0,0)},children:Object(O.jsx)("div",{className:"button-small button-small--back"})})]})]})})})}),p=(c(20),function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}),_=function(e,t){return e.find((function(e){return e.id===t}))},f=function(e,t){localStorage.setItem(e,JSON.stringify(t))},v=function(e,t,c,a,n){var s=p(e);_(s,t.id)?(a(n-t.quantity),c(void 0),s=s.filter((function(e){return e.id!==t.id}))):(s.push(t),c(t),a(n+1)),f(e,s)},g=b.a.createContext({cart:0,setCart:function(){}}),N=function(e){var t=e.children,c=localStorage.getItem("CartItems"),a=(c?JSON.parse(c):[]).reduce((function(e,t){return e+t.quantity}),0),n=Object(j.useState)(a),s=Object(o.a)(n,2),i=s[0],r=s[1],l=Object(j.useMemo)((function(){return{cart:i,setCart:r}}),[i]);return Object(O.jsx)(g.Provider,{value:l,children:t})},y=function(e){var t=e.id,c=e.product,a=e.isLarge,n=Object(j.useState)(_(p("CartItems"),t)),s=Object(o.a)(n,2),i=s[0],r=s[1],l=Object(j.useContext)(g),u=l.cart,b=l.setCart;return Object(O.jsx)("button",{type:"button",className:d()("button","body-text",{"button--large":a},{"button--active":i}),onClick:function(){return v("CartItems",{id:t,quantity:(null===i||void 0===i?void 0:i.quantity)||1,product:c},r,b,u)},children:i?"Added to cart":"Add to cart"})},P=b.a.createContext({fav:0,setFav:function(){}}),C=function(e){var t=e.children,c=localStorage.getItem("FavItems"),a=(c?JSON.parse(c):[]).length,n=Object(j.useState)(a),s=Object(o.a)(n,2),i=s[0],r=s[1],l=Object(j.useMemo)((function(){return{fav:i,setFav:r}}),[i]);return Object(O.jsx)(P.Provider,{value:l,children:t})},S=function(e){var t=e.id,c=e.product,a=e.isLarge,n=Object(j.useContext)(P),s=n.fav,i=n.setFav,r=Object(j.useState)(_(p("FavItems"),t)),l=Object(o.a)(r,2),u=l[0],b=l[1];return Object(O.jsx)("button",{type:"button",className:d()("button-small","button-small--fav",{"button-small--fav--active":u},{"button-small--fav--large":a}),"aria-label":"fav","data-cy":"addToFavorite",onClick:function(){return v("FavItems",{id:t,quantity:1,product:c},b,i,s)}})},k=[{name:"Home",link:"/"},{name:"Phones",link:"/phones",type:"phone"},{name:"Tablets",link:"/tablets",type:"tablet"},{name:"Accessories",link:"/accessories",type:"accessory"}],F=function(e){return k.find((function(t){return t.type===e}))},D=function(e){return(100-e.discount)/100*e.price},I="https://mate-academy.github.io/react_phone-catalog/api",q="https://mate-academy.github.io/react_phone-catalog",w=function(e){var t,c=e.product,a=c.id,n=c.imageUrl,s=c.name,i=c.price,l=c.discount,o=c.capacity,u=c.ram,d=c.screen,j=c.type,b=null===(t=F(j))||void 0===t?void 0:t.link,m=[{title:"Screen",value:d},{title:"Capacity",value:o},{title:"RAM",value:u}];return Object(O.jsxs)("div",{className:"ProductCard product",children:[Object(O.jsxs)(r.b,{to:"".concat(b,"/").concat(a),children:[Object(O.jsx)("img",{src:"".concat(q,"/").concat(n),alt:"productImage",className:"ProductCard__image"}),Object(O.jsx)("h2",{className:"ProductCard__name body-text",children:s})]}),Object(O.jsxs)("div",{className:"product__price product__price--ProductCard",children:[Object(O.jsx)("p",{className:"title title--sub",children:"$".concat(D(c))}),0!==l&&Object(O.jsx)("p",{className:"body-text product__price-discount",children:"$".concat(i)})]}),Object(O.jsx)("div",{className:"product__details product__details--ProductCard",children:m.map((function(e){var t=e.title,c=e.value;return Object(O.jsxs)("div",{className:"product__details-pair",children:[Object(O.jsx)("p",{className:"text",children:t}),Object(O.jsx)("p",{className:"text text--dark",children:c})]},t)}))}),Object(O.jsxs)("div",{className:"product__actions",children:[Object(O.jsx)(y,{id:a,product:c,isLarge:!1}),Object(O.jsx)(S,{id:a,product:c,isLarge:!1})]})]})},L=(c(21),function(e){var t=e.title,c=e.products,a=Object(j.useState)(0),n=Object(o.a)(a,2),s=n[0],i=n[1],r=Object(j.useState)(!1),l=Object(o.a)(r,2),u=l[0],b=l[1],m=Object(j.useState)(!0),h=Object(o.a)(m,2),x=h[0],p=h[1],_=0===s?0:16*s+272*s;return Object(O.jsxs)("div",{className:"ProductSlider",children:[Object(O.jsxs)("div",{className:"ProductSlider__top",children:[Object(O.jsx)("h2",{className:"title page__title",children:t}),Object(O.jsxs)("div",{className:"ProductSlider__scroll",children:[Object(O.jsx)("button",{type:"button",className:d()("button-small","button-small--left",{"button-small--left--disable":x}),onClick:function(){i(s-1),p(1===s),b(!1)},"aria-label":"swipe left",disabled:x}),Object(O.jsx)("button",{type:"button",className:d()("button-small","button-small--right",{"button-small--right--disable":u}),onClick:function(){i(s+1),b(s===c.length-5),p(!1)},"aria-label":"swipe right",disabled:u})]})]}),Object(O.jsx)("div",{className:"ProductSlider__wrapper",children:Object(O.jsx)("div",{className:"ProductSlider__container",style:{transform:"translateX(-".concat(_,"px)")},"data-cy":"cardsContainer",children:c.map((function(e){return Object(O.jsx)("div",{children:Object(O.jsx)(w,{product:e})},e.id)}))})})]})}),B=c.p+"static/media/picone.1adf58ea.png",H=c.p+"static/media/pictwo.a962057c.png",A=c.p+"static/media/picthree.bdd2e0fc.png",M=(c(22),[B,H,A]),E=setInterval((function(){}),0),Q=function(){var e=Object(j.useState)(0),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(j.useEffect)((function(){return E=setInterval((function(){a(c<M.length-1?c+1:0)}),3e3),function(){clearInterval(E)}})),Object(O.jsxs)("div",{className:"Carousel",children:[Object(O.jsx)("div",{className:"Carousel__container",children:M.map((function(e,t){return Object(O.jsx)("img",{src:e,alt:"slide",className:d()("Carousel__item",{"Carousel__item--visible":t===c})},e)}))}),Object(O.jsxs)("div",{className:"scroll Carousel__scroll",children:[Object(O.jsx)("button",{type:"button",className:" button-small button-small--left button-small--carousel button-small--carousel--left ",onClick:function(){clearInterval(E);var e=c>0?c-1:M.length-1;a(e)},"aria-label":"Mute volume"}),Object(O.jsx)("button",{type:"button",className:" button-small button-small--right button-small--carousel button-small--carousel--right ",onClick:function(){clearInterval(E);var e=c<M.length-1?c+1:0;a(e)},"aria-label":"Mute volume"})]}),Object(O.jsx)("div",{className:"Carousel__indicators",children:M.map((function(e,t){return Object(O.jsx)("button",{type:"button",className:d()("Carousel__indicator",{"Carousel__indicator--active":t===c}),"aria-label":"Mute volume"},e)}))})]})},R=function(e){return fetch(e).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},T=function(){return R("".concat(I,"/products.json"))},J=(c(23),c(11)),$=b.a.createContext({query:"",setQuery:function(){}}),G=function(e){var t=e.children,c=Object(j.useState)(""),a=Object(o.a)(c,2),n=a[0],s=a[1],i=Object(j.useMemo)((function(){return{query:n,setQuery:s}}),[n]);return Object(O.jsx)($.Provider,{value:i,children:t})},U=(c(26),function(){var e=Object(l.e)().pathname,t=Object(j.useState)(""),c=Object(o.a)(t,2),a=c[0],n=c[1],s=Object(j.useRef)(null),i=Object(j.useContext)($).setQuery,r=["/phones","/tablets","/accessories","/favourites"],u=Object(j.useCallback)(Object(J.debounce)(i,1e3),[]);return Object(O.jsx)(O.Fragment,{children:r.find((function(t){return t===e}))&&Object(O.jsxs)("div",{className:"Search",children:[Object(O.jsx)("input",{type:"text",name:"search",value:a,placeholder:"Search in ".concat(e.slice(1),"..."),className:"Search__input",ref:s,onChange:function(e){n(e.target.value),u(e.target.value)},onFocus:function(e){var t;null===(t=e.target.closest(".Search"))||void 0===t||t.classList.add("Search--focus"),e.target.classList.add("Search--focus")},onBlur:function(e){var t;null===(t=e.target.closest(".Search"))||void 0===t||t.classList.remove("Search--focus"),e.target.classList.remove("Search--focus")}}),a&&Object(O.jsx)("button",{type:"button","aria-label":"clear search",className:"Search__icon Search__icon--clear",onClick:function(){n(""),i("")},"data-cy":"searchDelete"}),!a&&Object(O.jsx)("button",{type:"button","aria-label":"focus search",className:"Search__icon Search__icon--search",onClick:function(){var e;null===(e=s.current)||void 0===e||e.focus()},"data-cy":"searchDelete"})]})})}),V=(c(27),function(){return Object(O.jsx)("nav",{className:"Nav",children:Object(O.jsx)("ul",{className:"Nav__list",children:k.map((function(e){var t=e.link,c=e.name;return Object(O.jsx)(r.c,{to:t,className:function(e){var t=e.isActive;return d()("link",{"link--active":t})},children:Object(O.jsx)("li",{className:"Nav__item",children:c})},t)}))})})}),Y=(c(28),function(e){var t=e.link,c=e.name,a=e.totalQty;return Object(O.jsx)(r.c,{to:t,className:function(e){var t=e.isActive;return d()("HeaderButton",{"HeaderButton--active":t})},children:Object(O.jsx)("div",{className:"HeaderButton__icon HeaderButton__icon--".concat(c),children:0!==a&&Object(O.jsx)("span",{className:"HeaderButton__count",children:a})})})}),z=(c(29),function(){var e=Object(j.useContext)(g).cart,t=Object(j.useContext)(P).fav;return Object(O.jsx)("header",{className:"Header",children:Object(O.jsxs)("div",{className:"Header__content",children:[Object(O.jsxs)("div",{className:"Header__left",children:[Object(O.jsx)(h,{}),Object(O.jsx)(V,{})]}),Object(O.jsxs)("div",{className:"Header__right",children:[Object(O.jsx)(U,{}),Object(O.jsx)(Y,{link:"/favourites",name:"fav",totalQty:t}),Object(O.jsx)(Y,{link:"/cart",name:"cart",totalQty:e})]})]})})}),W=function(){var e=Object(j.useState)([{title:"Mobile phones",amount:0,link:"phones"},{title:"Tablets",amount:0,link:"tablets"},{title:"Accessories",amount:0,link:"accessories"}]),t=Object(o.a)(e,2),c=t[0],a=t[1],n=Object(j.useState)([]),s=Object(o.a)(n,2),i=s[0],l=s[1],u=Object(j.useState)([]),d=Object(o.a)(u,2),b=d[0],m=d[1];return Object(j.useEffect)((function(){T().then((function(e){var t=function(t){return e.filter((function(e){return e.type===t})).length},c=t("phone"),n=t("tablet"),s=t("accessory");a([{title:"Mobile phones",amount:c,link:"phones"},{title:"Tablets",amount:n,link:"tablets"},{title:"Accessories",amount:s,link:"accessories"}])})),T().then((function(e){return e.filter((function(e){return 0!==e.discount})).sort((function(e,t){return e.price*(e.discount/100)-t.price*(t.discount/100)}))})).then((function(e){return l(e)})),T().then((function(e){return e.filter((function(e){return 0===e.discount})).sort((function(e,t){return t.price-e.price}))})).then((function(e){return m(e)}))}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z,{}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(Q,{}),Object(O.jsx)("div",{className:"page__section",children:Object(O.jsx)(L,{title:"Hot prices",products:i})}),Object(O.jsxs)("div",{className:"HomePage__category page__section",children:[Object(O.jsx)("h2",{className:"title page__title",children:"Shop by category"}),Object(O.jsx)("div",{className:"HomePage__category-container","data-cy":"categoryLinksContainer",children:c.map((function(e){var t=e.amount,c=e.link,a=e.title;return Object(O.jsxs)("div",{children:[Object(O.jsx)(r.c,{to:"/".concat(c),children:Object(O.jsx)("div",{className:"HomePage__category-img HomePage__category-img--".concat(c)})}),Object(O.jsx)("p",{className:"HomePage__category-link",children:a}),Object(O.jsx)("p",{className:"body-text body-text--light",children:"".concat(t," models")})]},c)}))})]}),Object(O.jsx)("div",{className:"page__section",children:Object(O.jsx)(L,{title:"Brand new models",products:b})})]})]})},X=(c(30),function(){return Object(O.jsx)("div",{className:"Loader",children:Object(O.jsx)("div",{className:"Loader__content"})})});!function(e){e.all="All",e[e.four=4]="four",e[e.eight=8]="eight",e[e.sixteen=16]="sixteen"}(a||(a={})),function(e){e.age="Newest",e.name="Alphabetically",e.price="Cheapest"}(n||(n={}));c(31);var K=function(e){var t=e.products;return Object(O.jsx)("div",{className:"ProductsList","data-cy":"productList",children:Object(O.jsx)("div",{className:"ProductsList__container",children:t.map((function(e){return Object(O.jsx)("div",{className:"ProductList__item",children:Object(O.jsx)(w,{product:e})},e.id)}))})})},Z=(c(32),function(e){var t=e.appliedQuery,c=e.products,a=Object(j.useState)([]),n=Object(o.a)(a,2),s=n[0],i=n[1];return Object(j.useMemo)((function(){i(c.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})))}),[t,c]),Object(O.jsxs)("div",{className:"SearchPage",children:[Object(O.jsx)("p",{className:"body-text body-text--light SearchPage__qty",children:"".concat(s.length," ").concat(1===s.length?"result":"results")}),Object(O.jsx)(K,{products:s})]})}),ee=(c(33),function(e){var t=e.name,c=Object(l.e)().pathname.split("/")[1],a=c[0].toUpperCase()+c.slice(1);return Object(O.jsxs)("div",{className:"Breadcrumbs","data-cy":"breadCrumbs",children:[Object(O.jsx)(r.b,{to:"/",children:Object(O.jsx)("div",{className:"Breadcrumbs__home"})}),Object(O.jsx)(r.b,{to:"/".concat(c),className:"Breadcrumbs__element text",children:a}),t&&Object(O.jsx)("p",{className:"Breadcrumbs__element text",children:t})]})});ee.defaultProps={name:""};c(34);var te=function(e){var t=e.category;return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"NoResults page__section",children:Object(O.jsx)("h1",{className:"title",children:"".concat(t," are expected soon...")})})})},ce=(c(35),function(e){var t=e.total,c=e.perPage,a=e.currentPage,n=e.onPageChange,s=Math.ceil(t/+c),i=Array(s).fill(0).map((function(e,t){return t+1})),r=1===a,l=a===s;return Object(O.jsxs)("div",{"data-cy":"pagination",className:"Pagination",children:[Object(O.jsx)("button",{type:"button","data-cy":"paginationLeft",onClick:function(){return n(a-1)},disabled:r,className:d()("button-small","button-small--left",{"button-small--left--disable":r}),"aria-label":"Left"}),Object(O.jsx)("div",{className:"Pagination__buttons-container",children:i.map((function(e){return Object(O.jsx)("button",{type:"button",onClick:function(){e!==a&&n(e)},className:d()("button-small","body-text","body-text--center",{"body-text--white Pagination__button--active":a===e}),children:e},e)}))}),Object(O.jsx)("button",{type:"button","data-cy":"paginationRight",onClick:function(){return n(a+1)},disabled:l,className:d()("button-small","button-small--right",{"button-small--right--disable":l}),"aria-label":"Right"})]})}),ae=(c(36),function(e){var t,c=e.options,a=e.selectedValue,n=e.handler,s=e.id,i=e.isSmall,r=Object(j.useState)(!1),l=Object(o.a)(r,2),u=l[0],b=l[1],m=Object(j.useRef)(null),h=Object(j.useRef)(null);Object(j.useEffect)((function(){var e=function(e){var t;null!==(t=m.current)&&void 0!==t&&t.contains(e.target)||b(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]);return Object(O.jsxs)("div",{className:d()("Select",{"Select--open":u},{"Select--small":i}),ref:m,children:[Object(O.jsx)("button",{type:"button",onClick:function(){return b(!u)},className:d()("Select__btn","body-text",{"Select__btn--open":u}),id:s,children:a}),Object(O.jsx)("div",{className:"Select__content-container",ref:h,style:{height:"".concat(u?"".concat(null===(t=h.current)||void 0===t?void 0:t.scrollHeight,"px"):"0px")},children:Object(O.jsx)("div",{className:"Select__content",children:c.map((function(e){return Object(O.jsx)("button",{type:"button",className:"Select__item-container body-text body-text--light",onClick:function(){return t="".concat(e),b(!1),void n(t);var t},children:e},e)}))})})]})}),ne=[n.age,n.name,n.price],se=function(e){var t=e.productsFromServer,c=e.title,s=e.qtyOptions,i=Object(j.useState)(t),l=Object(o.a)(i,2),u=l[0],d=l[1],b=Object(j.useContext)($),m=b.query,h=b.setQuery,x=Object(r.d)(),p=Object(o.a)(x,2),_=p[0],f=p[1];Object(j.useEffect)((function(){h("")}),[]);var v=Object(j.useState)(_.get("perPage")||a.all),g=Object(o.a)(v,2),N=g[0],y=g[1],P=_.get("sort")||n.age,C=_.get("perPage")||u.length,S=_.get("page")||"1",k=+S*+C,F=k-+C,I=u.slice(F,k);Object(j.useMemo)((function(){d(u.sort((function(e,t){switch(P){case n.price:return D(e)-D(t);case n.name:return e.name.localeCompare(t.name);case n.age:default:return e.age-t.age}})))}),[P]);return Object(O.jsx)("div",{className:"ProductsPage page__section",children:Object(O.jsxs)("div",{className:"container",children:[m&&Object(O.jsx)(Z,{appliedQuery:m,products:u}),!m&&0===u.length&&Object(O.jsx)(te,{category:c}),!m&&u.length>0&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ee,{}),Object(O.jsx)("h1",{className:"title page__title--products",children:c}),Object(O.jsx)("p",{className:"body-text body-text--light ProductsPage__models",children:"".concat(u.length," models")}),Object(O.jsxs)("div",{className:"ProductsPage__selects",children:[Object(O.jsxs)("div",{className:"ProductsPage__select-container",children:[Object(O.jsx)("label",{className:"text ProductsPage__label",htmlFor:"sorter",children:"Sort by"}),Object(O.jsx)(ae,{options:ne,selectedValue:P,handler:function(e){_.set("sort",e),f(_)},id:"sorter",isSmall:!1})]}),Object(O.jsxs)("div",{className:"ProductsPage__select-container",children:[Object(O.jsx)("label",{className:"text ProductsPage__label",htmlFor:"pager",children:"Items on page"}),Object(O.jsx)(ae,{options:s,selectedValue:N,handler:function(e){y(e),_.delete("page"),"All"===e?_.delete("perPage"):_.set("perPage",e),f(_)},id:"pager",isSmall:!0})]})]}),Object(O.jsx)(K,{products:I}),0!==u.length&&Object(O.jsx)(ce,{total:u.length,perPage:C,currentPage:+S,onPageChange:function(e){_.set("page","".concat(e)),f(_)}})]})]})})},ie=(c(37),[a.all,a.four,a.eight,a.sixteen]),re=function(){var e=Object(j.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],n=Object(j.useState)(!1),s=Object(o.a)(n,2),i=s[0],r=s[1];return Object(j.useEffect)((function(){r(!0),T().then((function(e){return e.filter((function(e){return"phone"===e.type}))})).then((function(e){a(e),r(!1)}))}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z,{}),i?Object(O.jsx)(X,{}):Object(O.jsx)(se,{productsFromServer:c,title:"Mobile phones",qtyOptions:ie})]})},le=function(){var e=Object(j.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(j.useState)(!1),i=Object(o.a)(s,2),r=i[0],l=i[1];return Object(j.useEffect)((function(){l(!0),T().then((function(e){return e.filter((function(e){return"tablet"===e.type}))})).then((function(e){n(e),l(!1)}))}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z,{}),r?Object(O.jsx)(X,{}):Object(O.jsx)(se,{productsFromServer:c,title:"Tablets",qtyOptions:[a.all]})]})},oe=function(){var e=Object(j.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(j.useState)(!1),i=Object(o.a)(s,2),r=i[0],l=i[1];return Object(j.useEffect)((function(){l(!0),T().then((function(e){return e.filter((function(e){return"accessory"===e.type}))})).then((function(e){n(e),l(!1)}))}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z,{}),r?Object(O.jsx)(X,{}):Object(O.jsx)(se,{productsFromServer:c,title:"Accessories",qtyOptions:[a.all]})]})},ue=(c(38),c(39),function(){var e=Object(l.f)();return Object(O.jsx)("button",{type:"button",onClick:function(){return e(-1)},"data-cy":"backButton",className:"BackButton text",children:"Back"})}),de=["gold","grey","black","white"],je=["64","256","512"],be=function(){var e=Object(j.useState)(null),t=Object(o.a)(e,2),c=t[0],a=t[1],n=Object(j.useState)(null),s=Object(o.a)(n,2),i=s[0],r=s[1],u=Object(j.useState)([]),b=Object(o.a)(u,2),m=b[0],h=b[1],x=Object(j.useState)(!1),p=Object(o.a)(x,2),_=p[0],f=p[1],v=Object(j.useState)(de[0]),g=Object(o.a)(v,2),N=g[0],P=g[1],C=Object(j.useState)(null),k=Object(o.a)(C,2),F=k[0],w=k[1],B=Object(j.useState)(je[0]),H=Object(o.a)(B,2),A=H[0],M=H[1],E=Object(j.useState)(!1),Q=Object(o.a)(E,2),J=Q[0],$=Q[1],G=Object(j.useState)(null),U=Object(o.a)(G,2),V=U[0],Y=U[1],W=Object(j.useState)(null),K=Object(o.a)(W,2),Z=K[0],te=K[1],ce=Object(l.g)().productId;return Object(j.useEffect)((function(){var e;$(!0),ce&&((e=ce,R("".concat(I,"/products/").concat(e,".json"))).then((function(e){a(e),w(e.images[0]);var t=[{title:"Screen",value:"".concat(e.display.screenSize)},{title:"Resolution",value:"".concat(e.display.screenResolution)},{title:"Processor",value:"".concat(e.hardware.cpu)},{title:"RAM",value:"".concat(e.storage.ram)}];Y(t),te([].concat(t,[{title:"Built in memory",value:"".concat(e.storage.flash)},{title:"Camera",value:"".concat(e.camera.primary)},{title:"Cell",value:"".concat(e.connectivity.cell)},{title:"OS",value:"".concat(e.android.os)}]))})).catch((function(){return f(!0)})),T().then((function(e){r(e.find((function(e){return e.id===ce})))})),T().then((function(e){return e.sort((function(){return.5-Math.random()})).slice(0,8)})).then((function(e){h(e),$(!1)}))),window.scrollTo(0,0)}),[ce]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z,{}),J&&Object(O.jsx)(X,{}),Object(O.jsxs)("div",{className:"container",children:[_&&Object(O.jsx)("h1",{className:"title",children:"Phone was not found"}),c&&i&&Object(O.jsxs)("div",{className:"ProductDetailsPage product",children:[Object(O.jsx)(ee,{name:c.name}),Object(O.jsx)(ue,{}),Object(O.jsx)("h2",{className:"title ProductDetailsPage__title",children:c.name}),Object(O.jsxs)("div",{className:"ProductDetailsPage__content",children:[Object(O.jsxs)("div",{className:"ProductDetailsPage__top page__section grid",children:[Object(O.jsx)("div",{className:"grid__item grid__item--1-2",children:Object(O.jsx)("div",{className:" ProductDetailsPage__images-small ",children:c.images.slice(0,5).map((function(e){return Object(O.jsx)("div",{className:"grid__item grid__item--1-2",children:Object(O.jsx)("button",{type:"button",className:d()("ProductDetailsPage__image-container",{"ProductDetailsPage__image-container--active":F===e}),onClick:function(){return w(e)},children:Object(O.jsx)("img",{src:"".concat(q,"/").concat(e),alt:"productImage",className:"ProductDetailsPage__image"})})},e)}))})}),Object(O.jsx)("div",{className:"grid__item grid__item--3-12",children:Object(O.jsx)("img",{src:"".concat(q,"/").concat(F),alt:"productImage",className:"ProductDetailsPage__image"})}),Object(O.jsx)("div",{className:"grid__item grid__item--14-20",children:Object(O.jsxs)("div",{className:"ProductDetailsPage__short-desc",children:[Object(O.jsxs)("div",{className:"ProductDetailsPage__short-desc-block",children:[Object(O.jsx)("p",{className:"text ProductDetailsPage__spec-name",children:"Available colors"}),Object(O.jsx)("div",{className:"ProductDetailsPage__spec-values",children:de.map((function(e){return Object(O.jsx)("button",{type:"button",className:d()("ProductDetailsPage__spec-color",{"ProductDetailsPage__spec-color--selected":e===N}),onClick:function(){return P(e)},children:Object(O.jsx)("div",{className:"\n                                ProductDetailsPage__spec-color\n                                ProductDetailsPage__spec-color-inner\n                                ProductDetailsPage__spec-color-inner--".concat(e,"\n                              ")})},e)}))})]}),Object(O.jsxs)("div",{className:" ProductDetailsPage__short-desc-block ProductDetailsPage__short-desc-block--last ",children:[Object(O.jsx)("p",{className:"text ProductDetailsPage__spec-name",children:"Select capacity"}),Object(O.jsx)("div",{className:"ProductDetailsPage__spec-values",children:je.map((function(e){return Object(O.jsx)("button",{type:"button",className:d()("body-text","ProductDetailsPage__spec-capacity",{"ProductDetailsPage__spec-capacity--selected":e===A,"body-text--white":e===A}),onClick:function(){return M(e)},children:"".concat(e," GB")},e)}))})]}),Object(O.jsxs)("div",{className:"product__price",children:[Object(O.jsx)("p",{className:"title",children:"$".concat(D(i))}),0!==i.discount&&Object(O.jsx)("p",{className:" product__price-discount body-text body-text--light ",children:"$".concat(i.price)})]}),Object(O.jsxs)("div",{className:" product__actions product__actions--ProductDetailsPage ",children:[Object(O.jsx)(y,{id:c.id,product:i,isLarge:!0}),Object(O.jsx)(S,{id:c.id,product:i,isLarge:!0})]}),Object(O.jsx)("div",{className:"product__details",children:null===V||void 0===V?void 0:V.map((function(e){return Object(O.jsxs)("div",{className:"product__details-pair",children:[Object(O.jsx)("p",{className:"text",children:e.title}),Object(O.jsx)("p",{className:"text text--dark product__details-value",children:e.value})]},e.value)}))})]})}),Object(O.jsx)("div",{className:"grid__item grid__item--23-24",children:Object(O.jsx)("p",{className:"text text--light",children:"ID: ".concat(c.id)})})]}),Object(O.jsxs)("div",{className:"page__section grid",children:[Object(O.jsxs)("div",{className:"grid__item grid__item--1-12",children:[Object(O.jsx)("h3",{className:" title title--sub ProductDetailsPage__title--sub ",children:"About"}),Object(O.jsx)("p",{className:"body-text body-text--light",children:c.description})]}),Object(O.jsxs)("div",{className:"grid__item grid__item--14-24",children:[Object(O.jsx)("h3",{className:" title title--sub ProductDetailsPage__title--sub ",children:"Tech specs"}),Object(O.jsx)("div",{className:"product__details",children:null===Z||void 0===Z?void 0:Z.map((function(e){return Object(O.jsxs)("div",{className:"product__details-pair",children:[Object(O.jsx)("p",{className:"body-text body-text--light",children:e.title}),Object(O.jsx)("p",{className:" body-text product__details-value ",children:e.value})]},e.title)}))})]})]}),Object(O.jsx)("div",{className:"page__section",children:Object(O.jsx)(L,{title:"You may also like",products:m})})]})]})]})]})},me=c(9),Oe=(c(40),function(){var e=p("CartItems"),t=Object(j.useContext)(g),c=t.cart,a=t.setCart,n=Object(j.useState)(!1),s=Object(o.a)(n,2),i=s[0],l=s[1],u=Object(j.useState)(e),b=Object(o.a)(u,2),m=b[0],h=b[1],x=Object(j.useState)(e.reduce((function(e,t){return e+t.quantity}),0)),_=Object(o.a)(x,2),v=_[0],N=_[1],y=Object(j.useState)(e.reduce((function(e,t){return e+t.quantity*D(t.product)}),0)),P=Object(o.a)(y,2),C=P[0],S=P[1],k=function(e,t,n){N(e),v<e?(S(C+D(t)),a(c+1)):v>e&&(S(C-D(t)),a(c-1));var s=p("CartItems").map((function(e){return e.id===t.id?Object(me.a)(Object(me.a)({},e),{},{quantity:n}):e}));f("CartItems",s),h(s)};return Object(O.jsxs)("div",{className:"CartPage page__section",children:[Object(O.jsx)(z,{}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(ue,{}),Object(O.jsx)("h1",{className:"title CartPage__title",children:"Cart"}),Object(O.jsxs)("div",{className:"grid",children:[Object(O.jsxs)("div",{className:"grid__item grid__item--1-16",children:[0===m.length&&Object(O.jsx)("p",{className:"body-text",children:"Your cart is empty now"}),m.map((function(e){var t,n=null===(t=F(e.product.type))||void 0===t?void 0:t.link;return Object(O.jsxs)("div",{className:"CartPage__card",children:[Object(O.jsxs)("div",{className:"CartPage__card-left",children:[Object(O.jsx)("button",{type:"button","aria-label":"remove",className:"CartPage__cross",onClick:function(){return function(e){var t=p("CartItems").filter((function(t){return t.id!==e.id}));f("CartItems",t),h(t),N(v-e.quantity),S(C-e.quantity*D(e.product)),a(c-e.quantity)}(e)},"data-cy":"cartDeleteButton"}),Object(O.jsx)(r.b,{to:"".concat(n,"/").concat(e.id),children:Object(O.jsx)("img",{src:"".concat(q,"/").concat(e.product.imageUrl),alt:"product_image",className:"CartPage__image"})}),Object(O.jsx)("p",{className:"CartPage__name body-text",children:e.product.name})]}),Object(O.jsxs)("div",{className:"CartPage__card-right",children:[Object(O.jsxs)("div",{className:"CartPage__actions",children:[Object(O.jsx)("button",{type:"button",className:d()("button-small","button-small--remove",{"button-small--remove--disable":1===e.quantity}),onClick:function(){k(v-1,e.product,e.quantity-1)},"aria-label":"remove",disabled:1===e.quantity}),Object(O.jsx)("p",{className:" body-text body-text--center CartPage__item-qty ",children:e.quantity}),Object(O.jsx)("button",{type:"button",className:d()("button-small","button-small--add"),onClick:function(){k(v+1,e.product,e.quantity+1)},"aria-label":"add"})]}),Object(O.jsx)("p",{className:"CartPage__item-price title title--sub",children:"$".concat(D(e.product)*e.quantity)})]})]},e.id)}))]}),Object(O.jsxs)("div",{className:"grid__item grid__item--17-24",children:[Object(O.jsxs)("div",{className:"CartPage__card-total",children:[Object(O.jsxs)("p",{className:"title CartPage__price-total",children:["$",C]}),Object(O.jsx)("p",{className:"body-text body-text--light CartPage__text-total","data-cy":"productQauntity",children:"Total for ".concat(v," items")}),Object(O.jsx)("button",{type:"button",className:"button body-text CartPage__checkout",onClick:function(){l(!0),setTimeout((function(){l(!1)}),2e3)},children:"Checkout"})]}),i&&Object(O.jsxs)("p",{className:"body-text body-text--center",children:["We are sorry,",Object(O.jsx)("br",{}),"but this feature is not implemented yet"]})]})]})]})]})}),he=(c(41),function(){var e=Object(j.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],n=Object(j.useContext)(P).fav,s=Object(j.useContext)($),i=s.query,r=s.setQuery;return Object(j.useMemo)((function(){var e=p("FavItems").map((function(e){return e.product}));a(e)}),[n]),Object(j.useEffect)((function(){r("")}),[]),Object(O.jsxs)("div",{className:"FavouritesPage page__section",children:[Object(O.jsx)(z,{}),Object(O.jsx)("div",{className:"container",children:i?Object(O.jsx)(Z,{appliedQuery:i,products:c}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ee,{}),Object(O.jsx)("h1",{className:"title page__title--products",children:"Favourites"}),Object(O.jsx)("p",{className:"body-text body-text--light FavouritesPage__qty",children:"".concat(c.length," models")}),Object(O.jsx)(K,{products:c})]})})]})}),xe=(c(42),function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"NotFoundPage",children:[Object(O.jsx)("h1",{className:"title",children:"Page not found"}),Object(O.jsx)(r.b,{to:"/",className:"link",children:"Home page"})]})})}),pe=function(){return Object(O.jsx)(G,{children:Object(O.jsx)(N,{children:Object(O.jsx)(C,{children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("div",{className:"App__main",children:Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{path:"/",element:Object(O.jsx)(W,{})}),Object(O.jsxs)(l.a,{path:"/phones",children:[Object(O.jsx)(l.a,{index:!0,element:Object(O.jsx)(re,{})}),Object(O.jsx)(l.a,{path:":productId",element:Object(O.jsx)(be,{})})]}),Object(O.jsxs)(l.a,{path:"/tablets",children:[Object(O.jsx)(l.a,{index:!0,element:Object(O.jsx)(le,{})}),Object(O.jsx)(l.a,{path:":productId",element:Object(O.jsx)(be,{})})]}),Object(O.jsx)(l.a,{path:"/accessories",element:Object(O.jsx)(oe,{})}),Object(O.jsx)(l.a,{path:"/cart",element:Object(O.jsx)(Oe,{})}),Object(O.jsx)(l.a,{path:"/favourites",element:Object(O.jsx)(he,{})}),Object(O.jsx)(l.a,{path:"*",element:Object(O.jsx)(xe,{})})]})}),Object(O.jsx)(x,{})]})})})})};i.a.render(Object(O.jsx)(r.a,{children:Object(O.jsx)(pe,{})}),document.getElementById("root"))}],[[43,1,2]]]);
//# sourceMappingURL=main.3a7e6969.chunk.js.map