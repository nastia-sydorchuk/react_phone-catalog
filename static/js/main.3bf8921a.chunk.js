(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a,n,s=c(10),i=c.n(s),r=c(5),o=c(3),l=(c(16),c(2)),u=c(1),d=c.n(u),j=c(4),b=c.n(j),O=(c(17),function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}),m=function(e,t){return e.find((function(e){return e.id===t}))},x=function(e,t){localStorage.setItem(e,JSON.stringify(t))},h=function(e,t,c,a,n){var s=O(e);m(s,t.id)?(a(n-t.quantity),c(void 0),s=s.filter((function(e){return e.id!==t.id}))):(s.push(t),c(t),a(n+1)),x(e,s)},p=c(0),_=d.a.createContext({cart:0,setCart:function(){}}),f=function(e){var t=e.children,c=O("CartItems").reduce((function(e,t){return e+t.quantity}),0),a=Object(u.useState)(c),n=Object(l.a)(a,2),s=n[0],i=n[1],r=Object(u.useMemo)((function(){return{cart:s,setCart:i}}),[s]);return Object(p.jsx)(_.Provider,{value:r,children:t})},v=function(e){var t=e.id,c=e.product,a=e.isLarge,n=Object(u.useState)(m(O("CartItems"),t)),s=Object(l.a)(n,2),i=s[0],r=s[1],o=Object(u.useContext)(_),d=o.cart,j=o.setCart;return Object(p.jsx)("button",{type:"button",className:b()("button","body-text",{"button--large":a},{"button--active":i}),onClick:function(){return h("CartItems",{id:t,quantity:(null===i||void 0===i?void 0:i.quantity)||1,product:c},r,j,d)},children:i?"Added to cart":"Add to cart"})},g=d.a.createContext({fav:0,setFav:function(){}}),N=function(e){var t=e.children,c=O("FavItems").length,a=Object(u.useState)(c),n=Object(l.a)(a,2),s=n[0],i=n[1],r=Object(u.useMemo)((function(){return{fav:s,setFav:i}}),[s]);return Object(p.jsx)(g.Provider,{value:r,children:t})},y=function(e){var t=e.id,c=e.product,a=e.isLarge,n=Object(u.useContext)(g),s=n.fav,i=n.setFav,r=Object(u.useState)(m(O("FavItems"),t)),o=Object(l.a)(r,2),d=o[0],j=o[1];return Object(p.jsx)("button",{type:"button",className:b()("icon","icon--fav",{"icon--fav--active":d},{"icon--fav--large":a}),"aria-label":"fav","data-cy":"addToFavorite",onClick:function(){return h("FavItems",{id:t,quantity:1,product:c},j,i,s)}})},P=[{name:"Home",link:"/"},{name:"Phones",link:"/phones",type:"phone"},{name:"Tablets",link:"/tablets",type:"tablet"},{name:"Accessories",link:"/accessories",type:"accessory"}],C=function(e){return P.find((function(t){return t.type===e}))},S=function(e){return(100-e.discount)/100*e.price},k="https://mate-academy.github.io/react_phone-catalog/api",F="https://mate-academy.github.io/react_phone-catalog",D=function(e){var t,c=e.product,a=c.id,n=c.imageUrl,s=c.name,i=c.price,o=c.discount,l=c.capacity,u=c.ram,d=c.screen,j=c.type,b=null===(t=C(j))||void 0===t?void 0:t.link,O=[{title:"Screen",value:d},{title:"Capacity",value:l},{title:"RAM",value:u}];return Object(p.jsxs)("div",{className:"ProductCard product",children:[Object(p.jsxs)(r.b,{to:"".concat(b,"/").concat(a),children:[Object(p.jsx)("img",{src:"".concat(F,"/").concat(n),alt:"productImage",className:"ProductCard__image"}),Object(p.jsx)("h2",{className:"ProductCard__name body-text",children:s})]}),Object(p.jsxs)("div",{className:"product__price product__price--ProductCard",children:[Object(p.jsx)("p",{className:"title title--sub",children:"$".concat(S(c))}),0!==o&&Object(p.jsx)("p",{className:"body-text product__price-discount",children:"$".concat(i)})]}),Object(p.jsx)("div",{className:"product__details product__details--ProductCard",children:O.map((function(e){var t=e.title,c=e.value;return Object(p.jsxs)("div",{className:"product__details-pair",children:[Object(p.jsx)("p",{className:"text",children:t}),Object(p.jsx)("p",{className:"text text--dark",children:c})]},t)}))}),Object(p.jsxs)("div",{className:"product__actions",children:[Object(p.jsx)(v,{id:a,product:c,isLarge:!1}),Object(p.jsx)(y,{id:a,product:c,isLarge:!1})]})]})},w=(c(19),function(e){var t=e.title,c=e.products,a=Object(u.useState)(0),n=Object(l.a)(a,2),s=n[0],i=n[1],r=Object(u.useState)(!1),o=Object(l.a)(r,2),d=o[0],j=o[1],O=Object(u.useState)(!0),m=Object(l.a)(O,2),x=m[0],h=m[1],_=0===s?0:16*s+272*s;return Object(p.jsxs)("div",{className:"ProductSlider",children:[Object(p.jsxs)("div",{className:"ProductSlider__top",children:[Object(p.jsx)("h2",{className:"title page__title",children:t}),Object(p.jsxs)("div",{className:"ProductSlider__scroll",children:[Object(p.jsx)("button",{type:"button",className:b()("icon","icon--left",{"icon--left--disable":x}),onClick:function(){i(s-1),h(1===s),j(!1)},"aria-label":"swipe left",disabled:x}),Object(p.jsx)("button",{type:"button",className:b()("icon","icon--right",{"icon--right--disable":d}),onClick:function(){i(s+1),j(s===c.length-5),h(!1)},"aria-label":"swipe right",disabled:d})]})]}),Object(p.jsx)("div",{className:"ProductSlider__wrapper",children:Object(p.jsx)("div",{className:"ProductSlider__container",style:{transform:"translateX(-".concat(_,"px)")},"data-cy":"cardsContainer",children:c.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(D,{product:e})},e.id)}))})})]})}),q=c.p+"static/media/picone.1adf58ea.png",I=c.p+"static/media/pictwo.a962057c.png",L=c.p+"static/media/picthree.bdd2e0fc.png",B=(c(20),[q,I,L]),H=function(){var e=Object(u.useState)(0),t=Object(l.a)(e,2),c=t[0],a=t[1],n=setInterval((function(){}),0),s=function(e){clearInterval(n),a(e)};return Object(u.useEffect)((function(){return n=setInterval((function(){a(c<B.length-1?c+1:0)}),3e3),function(){clearInterval(n)}})),Object(p.jsxs)("div",{className:"Carousel",children:[Object(p.jsx)("div",{className:"Carousel__container",children:B.map((function(e,t){return Object(p.jsx)("img",{src:e,alt:"slide",className:b()("Carousel__item",{"Carousel__item--visible":t===c})},e)}))}),Object(p.jsxs)("div",{className:"scroll",children:[Object(p.jsx)("button",{type:"button",className:" icon icon--left icon--carousel icon--carousel--left ",onClick:function(){return s(c>0?c-1:B.length-1)},"aria-label":"Prev"}),Object(p.jsx)("button",{type:"button",className:" icon icon--right icon--carousel icon--carousel--right ",onClick:function(){return s(c<B.length-1?c+1:0)},"aria-label":"Next"})]}),Object(p.jsx)("div",{className:"Carousel__indicators",children:B.map((function(e,t){return Object(p.jsx)("button",{type:"button",className:b()("Carousel__indicator",{"Carousel__indicator--active":t===c}),"aria-label":"Indicators",onClick:function(){return s(t)}},e)}))})]})},A=function(e){return fetch(e).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},E=function(){return A("".concat(k,"/products.json"))},M=(c(21),c(11)),Q=d.a.createContext({query:"",setQuery:function(){}}),R=function(e){var t=e.children,c=Object(u.useState)(""),a=Object(l.a)(c,2),n=a[0],s=a[1],i=Object(u.useMemo)((function(){return{query:n,setQuery:s}}),[n]);return Object(p.jsx)(Q.Provider,{value:i,children:t})},T=(c(24),function(){var e=Object(o.e)().pathname,t=Object(u.useState)(""),c=Object(l.a)(t,2),a=c[0],n=c[1],s=Object(u.useRef)(null),i=Object(u.useContext)(Q).setQuery,r=["/phones","/tablets","/accessories","/favourites"],d=Object(u.useCallback)(Object(M.debounce)(i,1e3),[]);return Object(p.jsx)(p.Fragment,{children:r.find((function(t){return t===e}))&&Object(p.jsxs)("div",{className:"Search",children:[Object(p.jsx)("input",{type:"text",name:"search",value:a,placeholder:"Search in ".concat(e.slice(1),"..."),className:"Search__input",ref:s,onChange:function(e){n(e.target.value),d(e.target.value)},onFocus:function(e){var t;null===(t=e.target.closest(".Search"))||void 0===t||t.classList.add("Search--focus"),e.target.classList.add("Search--focus")},onBlur:function(e){var t;null===(t=e.target.closest(".Search"))||void 0===t||t.classList.remove("Search--focus"),e.target.classList.remove("Search--focus")}}),a&&Object(p.jsx)("button",{type:"button","aria-label":"clear search",className:"Search__icon Search__icon--clear",onClick:function(){n(""),i("")},"data-cy":"searchDelete"}),!a&&Object(p.jsx)("button",{type:"button","aria-label":"focus search",className:"Search__icon Search__icon--search",onClick:function(){var e;null===(e=s.current)||void 0===e||e.focus()},"data-cy":"searchDelete"})]})})}),$=(c(25),function(){return Object(p.jsx)("nav",{className:"Nav",children:Object(p.jsx)("ul",{className:"Nav__list",children:P.map((function(e){var t=e.link,c=e.name;return Object(p.jsx)(r.c,{to:t,className:function(e){var t=e.isActive;return b()("link",{"link--active":t})},children:Object(p.jsx)("li",{className:"Nav__item",children:c})},t)}))})})}),J=c.p+"static/media/LOGO.13ce922e.svg",G=(c(26),function(){return Object(p.jsx)(r.b,{to:"/",children:Object(p.jsx)("img",{src:J,alt:"logo",className:"Logo"})})}),U=(c(27),function(e){var t=e.link,c=e.name,a=e.totalQty;return Object(p.jsx)(r.c,{to:t,className:function(e){var t=e.isActive;return b()("HeaderButton",{"HeaderButton--active":t})},children:Object(p.jsx)("div",{className:"HeaderButton__icon HeaderButton__icon--".concat(c),children:0!==a&&Object(p.jsx)("span",{className:"HeaderButton__count",children:a})})})}),V=(c(28),function(){var e=Object(u.useContext)(_).cart,t=Object(u.useContext)(g).fav;return Object(p.jsx)("header",{className:"Header",children:Object(p.jsxs)("div",{className:"Header__content",children:[Object(p.jsxs)("div",{className:"Header__left",children:[Object(p.jsx)(G,{}),Object(p.jsx)($,{})]}),Object(p.jsxs)("div",{className:"Header__right",children:[Object(p.jsx)(T,{}),Object(p.jsx)(U,{link:"/favourites",name:"fav",totalQty:t}),Object(p.jsx)(U,{link:"/cart",name:"cart",totalQty:e})]})]})})}),Y=function(){var e=Object(u.useState)([{title:"Mobile phones",amount:0,link:"phones"},{title:"Tablets",amount:0,link:"tablets"},{title:"Accessories",amount:0,link:"accessories"}]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(u.useState)([]),s=Object(l.a)(n,2),i=s[0],o=s[1],d=Object(u.useState)([]),j=Object(l.a)(d,2),b=j[0],O=j[1];return Object(u.useEffect)((function(){E().then((function(e){var t=function(t){return e.filter((function(e){return e.type===t})).length},c=t("phone"),n=t("tablet"),s=t("accessory");a([{title:"Mobile phones",amount:c,link:"phones"},{title:"Tablets",amount:n,link:"tablets"},{title:"Accessories",amount:s,link:"accessories"}])})),E().then((function(e){return e.filter((function(e){return 0!==e.discount})).sort((function(e,t){return e.price*(e.discount/100)-t.price*(t.discount/100)}))})).then((function(e){return o(e)})),E().then((function(e){return e.filter((function(e){return 0===e.discount})).sort((function(e,t){return t.price-e.price}))})).then((function(e){return O(e)}))}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(V,{}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(H,{}),Object(p.jsx)("div",{className:"page__section",children:Object(p.jsx)(w,{title:"Hot prices",products:i})}),Object(p.jsxs)("div",{className:"HomePage__category page__section",children:[Object(p.jsx)("h2",{className:"title page__title",children:"Shop by category"}),Object(p.jsx)("div",{className:"HomePage__category-container","data-cy":"categoryLinksContainer",children:c.map((function(e){var t=e.amount,c=e.link,a=e.title;return Object(p.jsxs)("div",{children:[Object(p.jsx)(r.c,{to:"/".concat(c),children:Object(p.jsx)("div",{className:"HomePage__category-img HomePage__category-img--".concat(c)})}),Object(p.jsx)("p",{className:"HomePage__category-link",children:a}),Object(p.jsx)("p",{className:"body-text body-text--light",children:"".concat(t," models")})]},c)}))})]}),Object(p.jsx)("div",{className:"page__section",children:Object(p.jsx)(w,{title:"Brand new models",products:b})})]})]})},z=(c(29),function(){return Object(p.jsx)("div",{className:"Loader",children:Object(p.jsx)("div",{className:"Loader__content"})})});!function(e){e.all="All",e[e.four=4]="four",e[e.eight=8]="eight",e[e.sixteen=16]="sixteen"}(a||(a={})),function(e){e.age="Newest",e.name="Alphabetically",e.price="Cheapest"}(n||(n={}));c(30);var W=function(e){var t=e.products;return Object(p.jsx)("div",{className:"ProductsList","data-cy":"productList",children:Object(p.jsx)("div",{className:"ProductsList__container",children:t.map((function(e){return Object(p.jsx)("div",{className:"ProductList__item",children:Object(p.jsx)(D,{product:e})},e.id)}))})})},X=(c(31),function(e){var t=e.appliedQuery,c=e.products,a=Object(u.useState)([]),n=Object(l.a)(a,2),s=n[0],i=n[1];return Object(u.useMemo)((function(){i(c.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})))}),[t,c]),Object(p.jsxs)("div",{className:"SearchPage",children:[Object(p.jsx)("p",{className:"body-text body-text--light SearchPage__qty",children:"".concat(s.length," ").concat(1===s.length?"result":"results")}),Object(p.jsx)(W,{products:s})]})}),K=(c(32),function(e){var t=e.name,c=Object(o.e)().pathname.split("/")[1],a=c[0].toUpperCase()+c.slice(1);return Object(p.jsxs)("div",{className:"Breadcrumbs","data-cy":"breadCrumbs",children:[Object(p.jsx)(r.b,{to:"/",children:Object(p.jsx)("div",{className:"Breadcrumbs__home"})}),Object(p.jsx)(r.b,{to:"/".concat(c),className:"Breadcrumbs__element text",children:a}),t&&Object(p.jsx)("p",{className:"Breadcrumbs__element text",children:t})]})});K.defaultProps={name:""};c(33);var Z=function(e){var t=e.category;return Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"NoResults page__section",children:Object(p.jsx)("h1",{className:"title",children:"".concat(t," are expected soon...")})})})},ee=(c(34),function(e){var t=e.total,c=e.perPage,a=e.currentPage,n=e.onPageChange,s=Math.ceil(t/+c),i=Array(s).fill(0).map((function(e,t){return t+1})),r=1===a,o=a===s;return Object(p.jsxs)("div",{"data-cy":"pagination",className:"Pagination",children:[Object(p.jsx)("button",{type:"button","data-cy":"paginationLeft",onClick:function(){return n(a-1)},disabled:r,className:b()("icon","icon--left",{"icon--left--disable":r}),"aria-label":"Left"}),Object(p.jsx)("div",{className:"Pagination__buttons-container",children:i.map((function(e){return Object(p.jsx)("button",{type:"button",onClick:function(){e!==a&&n(e)},className:b()("icon","body-text","body-text--center",{"body-text--white Pagination__button--active":a===e}),children:e},e)}))}),Object(p.jsx)("button",{type:"button","data-cy":"paginationRight",onClick:function(){return n(a+1)},disabled:o,className:b()("icon","icon--right",{"icon--right--disable":o}),"aria-label":"Right"})]})}),te=(c(35),function(e){var t,c=e.options,a=e.selectedValue,n=e.handler,s=e.id,i=e.isSmall,r=Object(u.useState)(!1),o=Object(l.a)(r,2),d=o[0],j=o[1],O=Object(u.useRef)(null),m=Object(u.useRef)(null);Object(u.useEffect)((function(){var e=function(e){var t;null!==(t=O.current)&&void 0!==t&&t.contains(e.target)||j(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]);return Object(p.jsxs)("div",{className:b()("Select",{"Select--open":d},{"Select--small":i}),ref:O,children:[Object(p.jsx)("button",{type:"button",onClick:function(){return j(!d)},className:b()("Select__btn","body-text",{"Select__btn--open":d}),id:s,children:a}),Object(p.jsx)("div",{className:"Select__content-container",ref:m,style:{height:"".concat(d?"".concat(null===(t=m.current)||void 0===t?void 0:t.scrollHeight,"px"):"0px")},children:Object(p.jsx)("div",{className:"Select__content",children:c.map((function(e){return Object(p.jsx)("button",{type:"button",className:"Select__item-container body-text body-text--light",onClick:function(){return t="".concat(e),j(!1),void n(t);var t},children:e},e)}))})})]})}),ce=[n.age,n.name,n.price],ae=function(e){var t=e.productsFromServer,c=e.title,s=e.qtyOptions,i=Object(u.useState)(t),o=Object(l.a)(i,2),d=o[0],j=o[1],b=Object(u.useContext)(Q),O=b.query,m=b.setQuery,x=Object(r.d)(),h=Object(l.a)(x,2),_=h[0],f=h[1];Object(u.useEffect)((function(){m("")}),[]);var v=Object(u.useState)(_.get("perPage")||a.all),g=Object(l.a)(v,2),N=g[0],y=g[1],P=_.get("sort")||n.age,C=_.get("perPage")||d.length,k=_.get("page")||"1",F=+k*+C,D=F-+C,w=d.slice(D,F);Object(u.useMemo)((function(){j(d.sort((function(e,t){switch(P){case n.price:return S(e)-S(t);case n.name:return e.name.localeCompare(t.name);case n.age:default:return e.age-t.age}})))}),[P]);return Object(p.jsx)("div",{className:"ProductsPage page__section",children:Object(p.jsxs)("div",{className:"container",children:[O&&Object(p.jsx)(X,{appliedQuery:O,products:d}),!O&&0===d.length&&Object(p.jsx)(Z,{category:c}),!O&&d.length>0&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(K,{}),Object(p.jsx)("h1",{className:"title page__title--products",children:c}),Object(p.jsx)("p",{className:"body-text body-text--light ProductsPage__models",children:"".concat(d.length," models")}),Object(p.jsxs)("div",{className:"ProductsPage__selects",children:[Object(p.jsxs)("div",{className:"ProductsPage__select-container",children:[Object(p.jsx)("label",{className:"text ProductsPage__label",htmlFor:"sorter",children:"Sort by"}),Object(p.jsx)(te,{options:ce,selectedValue:P,handler:function(e){_.set("sort",e),f(_)},id:"sorter",isSmall:!1})]}),Object(p.jsxs)("div",{className:"ProductsPage__select-container",children:[Object(p.jsx)("label",{className:"text ProductsPage__label",htmlFor:"pager",children:"Items on page"}),Object(p.jsx)(te,{options:s,selectedValue:N,handler:function(e){y(e),_.delete("page"),"All"===e?_.delete("perPage"):_.set("perPage",e),f(_)},id:"pager",isSmall:!0})]})]}),Object(p.jsx)(W,{products:w}),0!==d.length&&Object(p.jsx)(ee,{total:d.length,perPage:C,currentPage:+k,onPageChange:function(e){_.set("page","".concat(e)),f(_)}})]})]})})},ne=(c(36),[a.all,a.four,a.eight,a.sixteen]),se=function(){var e=Object(u.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(u.useState)(!1),s=Object(l.a)(n,2),i=s[0],r=s[1];return Object(u.useEffect)((function(){r(!0),E().then((function(e){return e.filter((function(e){return"phone"===e.type}))})).then((function(e){a(e),r(!1)}))}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(V,{}),i?Object(p.jsx)(z,{}):Object(p.jsx)(ae,{productsFromServer:c,title:"Mobile phones",qtyOptions:ne})]})},ie=function(){var e=Object(u.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(u.useState)(!1),i=Object(l.a)(s,2),r=i[0],o=i[1];return Object(u.useEffect)((function(){o(!0),E().then((function(e){return e.filter((function(e){return"tablet"===e.type}))})).then((function(e){n(e),o(!1)}))}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(V,{}),r?Object(p.jsx)(z,{}):Object(p.jsx)(ae,{productsFromServer:c,title:"Tablets",qtyOptions:[a.all]})]})},re=function(){var e=Object(u.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(u.useState)(!1),i=Object(l.a)(s,2),r=i[0],o=i[1];return Object(u.useEffect)((function(){o(!0),E().then((function(e){return e.filter((function(e){return"accessory"===e.type}))})).then((function(e){n(e),o(!1)}))}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(V,{}),r?Object(p.jsx)(z,{}):Object(p.jsx)(ae,{productsFromServer:c,title:"Accessories",qtyOptions:[a.all]})]})},oe=(c(37),c(38),function(){var e=Object(o.f)();return Object(p.jsx)("button",{type:"button",onClick:function(){return e(-1)},"data-cy":"backButton",className:"BackButton text",children:"Back"})}),le=["gold","grey","black","white"],ue=["64","256","512"],de=function(){var e=Object(u.useState)(null),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(u.useState)(null),s=Object(l.a)(n,2),i=s[0],r=s[1],d=Object(u.useState)([]),j=Object(l.a)(d,2),O=j[0],m=j[1],x=Object(u.useState)(!1),h=Object(l.a)(x,2),_=h[0],f=h[1],g=Object(u.useState)(le[0]),N=Object(l.a)(g,2),P=N[0],C=N[1],D=Object(u.useState)(null),q=Object(l.a)(D,2),I=q[0],L=q[1],B=Object(u.useState)(ue[0]),H=Object(l.a)(B,2),M=H[0],Q=H[1],R=Object(u.useState)(!1),T=Object(l.a)(R,2),$=T[0],J=T[1],G=Object(u.useState)(null),U=Object(l.a)(G,2),Y=U[0],W=U[1],X=Object(u.useState)(null),Z=Object(l.a)(X,2),ee=Z[0],te=Z[1],ce=Object(o.g)().productId;return Object(u.useEffect)((function(){var e;J(!0),ce&&((e=ce,A("".concat(k,"/products/").concat(e,".json"))).then((function(e){a(e),L(e.images[0]);var t=[{title:"Screen",value:"".concat(e.display.screenSize)},{title:"Resolution",value:"".concat(e.display.screenResolution)},{title:"Processor",value:"".concat(e.hardware.cpu)},{title:"RAM",value:"".concat(e.storage.ram)}];W(t),te([].concat(t,[{title:"Built in memory",value:"".concat(e.storage.flash)},{title:"Camera",value:"".concat(e.camera.primary)},{title:"Cell",value:"".concat(e.connectivity.cell)},{title:"OS",value:"".concat(e.android.os)}]))})).catch((function(){return f(!0)})),E().then((function(e){r(e.find((function(e){return e.id===ce})))})),E().then((function(e){return e.sort((function(){return.5-Math.random()})).slice(0,8)})).then((function(e){m(e),J(!1)}))),window.scrollTo(0,0)}),[ce]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(V,{}),$&&Object(p.jsx)(z,{}),Object(p.jsxs)("div",{className:"container",children:[_&&Object(p.jsx)("h1",{className:"title",children:"Phone was not found"}),c&&i&&Object(p.jsxs)("div",{className:"ProductDetailsPage product",children:[Object(p.jsx)(K,{name:c.name}),Object(p.jsx)(oe,{}),Object(p.jsx)("h2",{className:"title ProductDetailsPage__title",children:c.name}),Object(p.jsxs)("div",{className:"ProductDetailsPage__content",children:[Object(p.jsxs)("div",{className:"ProductDetailsPage__top page__section grid",children:[Object(p.jsx)("div",{className:"grid__item grid__item--1-2",children:Object(p.jsx)("div",{className:" ProductDetailsPage__images-small ",children:c.images.slice(0,5).map((function(e){return Object(p.jsx)("div",{className:"grid__item grid__item--1-2",children:Object(p.jsx)("button",{type:"button",className:b()("ProductDetailsPage__image-container",{"ProductDetailsPage__image-container--active":I===e}),onClick:function(){return L(e)},children:Object(p.jsx)("img",{src:"".concat(F,"/").concat(e),alt:"productImage",className:"ProductDetailsPage__image"})})},e)}))})}),Object(p.jsx)("div",{className:"grid__item grid__item--3-12",children:Object(p.jsx)("img",{src:"".concat(F,"/").concat(I),alt:"productImage",className:"ProductDetailsPage__image"})}),Object(p.jsx)("div",{className:"grid__item grid__item--14-20",children:Object(p.jsxs)("div",{className:"ProductDetailsPage__short-desc",children:[Object(p.jsxs)("div",{className:"ProductDetailsPage__short-desc-block",children:[Object(p.jsx)("p",{className:"text ProductDetailsPage__spec-name",children:"Available colors"}),Object(p.jsx)("div",{className:"ProductDetailsPage__spec-values",children:le.map((function(e){return Object(p.jsx)("button",{type:"button",className:b()("ProductDetailsPage__spec-color",{"ProductDetailsPage__spec-color--selected":e===P}),onClick:function(){return C(e)},children:Object(p.jsx)("div",{className:"\n                                ProductDetailsPage__spec-color\n                                ProductDetailsPage__spec-color-inner\n                                ProductDetailsPage__spec-color-inner--".concat(e,"\n                              ")})},e)}))})]}),Object(p.jsxs)("div",{className:" ProductDetailsPage__short-desc-block ProductDetailsPage__short-desc-block--last ",children:[Object(p.jsx)("p",{className:"text ProductDetailsPage__spec-name",children:"Select capacity"}),Object(p.jsx)("div",{className:"ProductDetailsPage__spec-values",children:ue.map((function(e){return Object(p.jsx)("button",{type:"button",className:b()("body-text","ProductDetailsPage__spec-capacity",{"ProductDetailsPage__spec-capacity--selected":e===M,"body-text--white":e===M}),onClick:function(){return Q(e)},children:"".concat(e," GB")},e)}))})]}),Object(p.jsxs)("div",{className:"product__price",children:[Object(p.jsx)("p",{className:"title",children:"$".concat(S(i))}),0!==i.discount&&Object(p.jsx)("p",{className:" product__price-discount body-text body-text--light ",children:"$".concat(i.price)})]}),Object(p.jsxs)("div",{className:" product__actions product__actions--ProductDetailsPage ",children:[Object(p.jsx)(v,{id:c.id,product:i,isLarge:!0}),Object(p.jsx)(y,{id:c.id,product:i,isLarge:!0})]}),Object(p.jsx)("div",{className:"product__details",children:null===Y||void 0===Y?void 0:Y.map((function(e){return Object(p.jsxs)("div",{className:"product__details-pair",children:[Object(p.jsx)("p",{className:"text",children:e.title}),Object(p.jsx)("p",{className:"text text--dark product__details-value",children:e.value})]},e.value)}))})]})}),Object(p.jsx)("div",{className:"grid__item grid__item--23-24",children:Object(p.jsx)("p",{className:"text text--light",children:"ID: ".concat(c.id)})})]}),Object(p.jsxs)("div",{className:"page__section grid",children:[Object(p.jsxs)("div",{className:"grid__item grid__item--1-12",children:[Object(p.jsx)("h3",{className:" title title--sub ProductDetailsPage__title--sub ",children:"About"}),Object(p.jsx)("p",{className:"body-text body-text--light",children:c.description})]}),Object(p.jsxs)("div",{className:"grid__item grid__item--14-24",children:[Object(p.jsx)("h3",{className:" title title--sub ProductDetailsPage__title--sub ",children:"Tech specs"}),Object(p.jsx)("div",{className:"product__details",children:null===ee||void 0===ee?void 0:ee.map((function(e){return Object(p.jsxs)("div",{className:"product__details-pair",children:[Object(p.jsx)("p",{className:"body-text body-text--light",children:e.title}),Object(p.jsx)("p",{className:" body-text product__details-value ",children:e.value})]},e.title)}))})]})]}),Object(p.jsx)("div",{className:"page__section",children:Object(p.jsx)(w,{title:"You may also like",products:O})})]})]})]})]})},je=(c(39),function(){var e=Object(u.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(u.useContext)(g).fav,s=Object(u.useContext)(Q),i=s.query,r=s.setQuery;return Object(u.useMemo)((function(){var e=O("FavItems").map((function(e){return e.product}));a(e)}),[n]),Object(u.useEffect)((function(){r("")}),[]),Object(p.jsxs)("div",{className:"FavouritesPage page__section",children:[Object(p.jsx)(V,{}),Object(p.jsx)("div",{className:"container",children:i?Object(p.jsx)(X,{appliedQuery:i,products:c}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(K,{}),Object(p.jsx)("h1",{className:"title page__title--products",children:"Favourites"}),Object(p.jsx)("p",{className:"body-text body-text--light FavouritesPage__qty",children:"".concat(c.length," models")}),Object(p.jsx)(W,{products:c})]})})]})}),be=c(9),Oe=(c(40),function(){var e=O("CartItems"),t=Object(u.useContext)(_),c=t.cart,a=t.setCart,n=Object(u.useState)(!1),s=Object(l.a)(n,2),i=s[0],o=s[1],d=Object(u.useState)(e),j=Object(l.a)(d,2),m=j[0],h=j[1],f=Object(u.useState)(e.reduce((function(e,t){return e+t.quantity}),0)),v=Object(l.a)(f,2),g=v[0],N=v[1],y=Object(u.useState)(e.reduce((function(e,t){return e+t.quantity*S(t.product)}),0)),P=Object(l.a)(y,2),k=P[0],D=P[1],w=function(e,t,n){N(e),g<e?(D(k+S(t)),a(c+1)):g>e&&(D(k-S(t)),a(c-1));var s=O("CartItems").map((function(e){return e.id===t.id?Object(be.a)(Object(be.a)({},e),{},{quantity:n}):e}));x("CartItems",s),h(s)};return Object(p.jsxs)("div",{className:"CartPage page__section",children:[Object(p.jsx)(V,{}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(oe,{}),Object(p.jsx)("h1",{className:"title CartPage__title",children:"Cart"}),Object(p.jsxs)("div",{className:"grid",children:[Object(p.jsxs)("div",{className:"grid__item grid__item--1-16",children:[0===m.length&&Object(p.jsx)("p",{className:"body-text",children:"Your cart is empty now"}),m.map((function(e){var t,n=null===(t=C(e.product.type))||void 0===t?void 0:t.link;return Object(p.jsxs)("div",{className:"CartPage__cart",children:[Object(p.jsxs)("div",{className:"CartPage__cart-left",children:[Object(p.jsx)("button",{type:"button","aria-label":"remove",className:"CartPage__cross",onClick:function(){return function(e){var t=O("CartItems").filter((function(t){return t.id!==e.id}));x("CartItems",t),h(t),N(g-e.quantity),D(k-e.quantity*S(e.product)),a(c-e.quantity)}(e)},"data-cy":"cartDeleteButton"}),Object(p.jsx)(r.b,{to:"".concat(n,"/").concat(e.id),children:Object(p.jsx)("img",{src:"".concat(F,"/").concat(e.product.imageUrl),alt:"product_image",className:"CartPage__image"})}),Object(p.jsx)("p",{className:"CartPage__name body-text",children:e.product.name})]}),Object(p.jsxs)("div",{className:"CartPage__cart-right",children:[Object(p.jsxs)("div",{className:"CartPage__actions",children:[Object(p.jsx)("button",{type:"button",className:b()("icon","icon--remove",{"icon--remove--disable":1===e.quantity}),onClick:function(){w(g-1,e.product,e.quantity-1)},"aria-label":"remove",disabled:1===e.quantity}),Object(p.jsx)("p",{className:" body-text body-text--center CartPage__item-qty ",children:e.quantity}),Object(p.jsx)("button",{type:"button",className:b()("icon","icon--add"),onClick:function(){w(g+1,e.product,e.quantity+1)},"aria-label":"add"})]}),Object(p.jsx)("p",{className:"CartPage__item-price title title--sub",children:"$".concat(S(e.product)*e.quantity)})]})]},e.id)}))]}),Object(p.jsxs)("div",{className:"grid__item grid__item--17-24",children:[Object(p.jsxs)("div",{className:"CartPage__cart-total",children:[Object(p.jsxs)("p",{className:"title CartPage__price-total",children:["$",k]}),Object(p.jsx)("p",{className:"body-text body-text--light CartPage__text-total","data-cy":"productQauntity",children:"Total for ".concat(g," items")}),Object(p.jsx)("button",{type:"button",className:"button body-text button--large",onClick:function(){o(!0),setTimeout((function(){o(!1)}),2e3)},children:"Checkout"})]}),i&&Object(p.jsxs)("p",{className:"body-text body-text--center",children:["We are sorry,",Object(p.jsx)("br",{}),"but this feature is not implemented yet"]})]})]})]})]})}),me=(c(41),function(){return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"NotFoundPage",children:[Object(p.jsx)("h1",{className:"title",children:"Page not found"}),Object(p.jsx)(r.b,{to:"/",className:"link",children:"Home page"})]})})}),xe=(c(42),function(){var e=Object(u.useState)(!1),t=Object(l.a)(e,2),c=t[0],a=t[1];return Object(u.useEffect)((function(){var e=function(){return a(window.scrollY>0)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),Object(p.jsx)("footer",{className:"Footer",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"Footer__content",children:[Object(p.jsx)(G,{}),Object(p.jsxs)("div",{className:"Footer__socials",children:[Object(p.jsx)(r.b,{to:"/",className:"link Footer__link",children:"GitHub"}),Object(p.jsx)(r.b,{to:"/",className:"link Footer__link",children:"Contacts"}),Object(p.jsx)(r.b,{to:"/",className:"link Footer__link",children:"Rights"})]}),Object(p.jsxs)("div",{className:b()("Footer__back",{"Footer__back--hidden":!c}),children:[Object(p.jsx)("p",{className:"Footer__text text",children:"Back to top"}),Object(p.jsx)("button",{type:"button",onClick:function(){return window.scrollTo(0,0)},children:Object(p.jsx)("div",{className:"icon icon--back"})})]})]})})})}),he=function(){return Object(p.jsx)(R,{children:Object(p.jsx)(f,{children:Object(p.jsx)(N,{children:Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("div",{className:"App__main",children:Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{path:"/",element:Object(p.jsx)(Y,{})}),Object(p.jsxs)(o.a,{path:"/phones",children:[Object(p.jsx)(o.a,{index:!0,element:Object(p.jsx)(se,{})}),Object(p.jsx)(o.a,{path:":productId",element:Object(p.jsx)(de,{})})]}),Object(p.jsxs)(o.a,{path:"/tablets",children:[Object(p.jsx)(o.a,{index:!0,element:Object(p.jsx)(ie,{})}),Object(p.jsx)(o.a,{path:":productId",element:Object(p.jsx)(de,{})})]}),Object(p.jsx)(o.a,{path:"/accessories",element:Object(p.jsx)(re,{})}),Object(p.jsx)(o.a,{path:"/cart",element:Object(p.jsx)(Oe,{})}),Object(p.jsx)(o.a,{path:"/favourites",element:Object(p.jsx)(je,{})}),Object(p.jsx)(o.a,{path:"*",element:Object(p.jsx)(me,{})})]})}),Object(p.jsx)(xe,{})]})})})})};i.a.render(Object(p.jsx)(r.a,{children:Object(p.jsx)(he,{})}),document.getElementById("root"))}],[[43,1,2]]]);
//# sourceMappingURL=main.3bf8921a.chunk.js.map