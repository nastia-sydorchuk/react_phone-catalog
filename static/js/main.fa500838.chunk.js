(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a,s,n=c(10),r=c.n(n),i=c(5),l=c(3),o=(c(16),c(2)),u=c(4),d=c.n(u),j=c(1),b=c.n(j),m=c.p+"static/media/LOGO.13ce922e.svg",O=(c(17),c(0)),h=function(){return Object(O.jsx)(i.b,{to:"/",children:Object(O.jsx)("img",{src:m,alt:"logo",className:"Logo"})})},x=(c(19),function(){var e=Object(j.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(j.useEffect)((function(){window.addEventListener("scroll",(function(){window.scrollY>0?a(!0):a(!1)}))}),[]),Object(O.jsx)("footer",{className:"Footer",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"Footer__content",children:[Object(O.jsx)(h,{}),Object(O.jsxs)("div",{className:"Footer__socials",children:[Object(O.jsx)(i.b,{to:"/",className:"link",children:"GitHub"}),Object(O.jsx)(i.b,{to:"/",className:"link",children:"Contacts"}),Object(O.jsx)(i.b,{to:"/",className:"link",children:"Rights"})]}),Object(O.jsxs)("div",{className:d()("Footer__back",{"Footer__back--hidden":!c}),children:[Object(O.jsx)("p",{className:"Footer__text text",children:"Back to top"}),Object(O.jsx)("button",{type:"button",onClick:function(){return window.scrollTo(0,0)},children:Object(O.jsx)("div",{className:"button-small button-small--back"})})]})]})})})}),p=(c(20),function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}),_=function(e,t){return e.some((function(e){return e.id===t}))},f=function(e,t){localStorage.setItem(e,JSON.stringify(t))},g=function(e,t,c,a,s){var n=p(e);_(n,t.id)?(n=n.filter((function(e){return e.id!==t.id})),c(!1),a(s-1)):(n.push(t),c(!0),a(s+1)),f(e,n)},v=b.a.createContext({cart:0,setCart:function(){}}),N=function(e){var t=e.children,c=localStorage.getItem("CartItems"),a=(c?JSON.parse(c):[]).reduce((function(e,t){return e+t.quantity}),0),s=Object(j.useState)(a),n=Object(o.a)(s,2),r=n[0],i=n[1],l=Object(j.useMemo)((function(){return{cart:r,setCart:i}}),[r]);return Object(O.jsx)(v.Provider,{value:l,children:t})},y=function(e){var t=e.id,c=e.product,a=e.isLarge,s=Object(j.useState)(_(p("CartItems"),t)),n=Object(o.a)(s,2),r=n[0],i=n[1],l=Object(j.useContext)(v),u=l.cart,b=l.setCart;return Object(O.jsx)("button",{type:"button",className:d()("button","body-text",{"button--large":a},{"button--active":r}),onClick:function(){return g("CartItems",{id:t,quantity:1,product:c},i,b,u)},children:r?"Added to cart":"Add to cart"})},P=b.a.createContext({fav:0,setFav:function(){}}),C=function(e){var t=e.children,c=localStorage.getItem("FavItems"),a=(c?JSON.parse(c):[]).length,s=Object(j.useState)(a),n=Object(o.a)(s,2),r=n[0],i=n[1],l=Object(j.useMemo)((function(){return{fav:r,setFav:i}}),[r]);return Object(O.jsx)(P.Provider,{value:l,children:t})},S=function(e){var t=e.id,c=e.product,a=e.isLarge,s=Object(j.useContext)(P),n=s.fav,r=s.setFav,i=Object(j.useState)(_(p("FavItems"),t)),l=Object(o.a)(i,2),u=l[0],b=l[1];return Object(O.jsx)("button",{type:"button",className:d()("button-small","button-small--fav",{"button-small--fav--active":u},{"button-small--fav--large":a}),"aria-label":"fav","data-cy":"addToFavorite",onClick:function(){return g("FavItems",c,b,r,n)}})},k=[{name:"Home",link:"/"},{name:"Phones",link:"/phones",type:"phone"},{name:"Tablets",link:"/tablets",type:"tablet"},{name:"Accessories",link:"/accessories",type:"accessory"}],F=function(e){return k.find((function(t){return t.type===e}))},D=function(e){return(100-e.discount)/100*e.price},I="https://mate-academy.github.io/react_phone-catalog/api",w="https://mate-academy.github.io/react_phone-catalog",L=function(e){var t,c=e.product,a=c.id,s=c.imageUrl,n=c.name,r=c.price,l=c.discount,o=c.capacity,u=c.ram,d=c.screen,j=c.type,b=null===(t=F(j))||void 0===t?void 0:t.link,m=[{title:"Screen",value:d},{title:"Capacity",value:o},{title:"RAM",value:u}];return Object(O.jsxs)("div",{className:"ProductCard product",children:[Object(O.jsxs)(i.b,{to:"".concat(b,"/").concat(a),children:[Object(O.jsx)("img",{src:"".concat(w,"/").concat(s),alt:"productImage",className:"ProductCard__image"}),Object(O.jsx)("h2",{className:"ProductCard__name body-text",children:n})]}),Object(O.jsxs)("div",{className:"product__price product__price--ProductCard",children:[Object(O.jsx)("p",{className:"title title--sub",children:"$".concat(D(c))}),0!==l&&Object(O.jsx)("p",{className:"body-text product__price-discount",children:"$".concat(r)})]}),Object(O.jsx)("div",{className:"product__details product__details--ProductCard",children:m.map((function(e){var t=e.title,c=e.value;return Object(O.jsxs)("div",{className:"product__details-pair",children:[Object(O.jsx)("p",{className:"text",children:t}),Object(O.jsx)("p",{className:"text text--dark",children:c})]},t)}))}),Object(O.jsxs)("div",{className:"product__actions",children:[Object(O.jsx)(y,{id:a,product:c,isLarge:!1}),Object(O.jsx)(S,{id:a,product:c,isLarge:!1})]})]})},q=(c(21),function(e){var t=e.title,c=e.products,a=Object(j.useState)(0),s=Object(o.a)(a,2),n=s[0],r=s[1],i=Object(j.useState)(!1),l=Object(o.a)(i,2),u=l[0],b=l[1],m=Object(j.useState)(!0),h=Object(o.a)(m,2),x=h[0],p=h[1],_=c.slice(n,n+4);return Object(O.jsxs)("div",{className:"ProductSlider",children:[Object(O.jsxs)("div",{className:"ProductSlider__top",children:[Object(O.jsx)("h2",{className:"title page__title",children:t}),Object(O.jsxs)("div",{className:"ProductSlider__scroll",children:[Object(O.jsx)("button",{type:"button",className:d()("button-small","button-small--left",{"button-small--left--disable":x}),onClick:function(){r(n-4),p(4===n),b(!1)},"aria-label":"swipe left",disabled:x}),Object(O.jsx)("button",{type:"button",className:d()("button-small","button-small--right",{"button-small--right--disable":u}),onClick:function(){r(n+4),b(n===c.length-8),p(!1)},"aria-label":"swipe right",disabled:u})]})]}),Object(O.jsx)("div",{className:"ProductSlider__container","data-cy":"cardsContainer",children:_.map((function(e){return Object(O.jsx)("div",{children:Object(O.jsx)(L,{product:e})},e.id)}))})]})}),B=c.p+"static/media/Banner.d1894d14.png",A=c.p+"static/media/BannerTwo.912ce2f6.png",H=c.p+"static/media/BannerThree.3917bf8c.png",M=(c(22),[B,A,H]),E=setInterval((function(){}),0),T=function(){var e=Object(j.useState)(0),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(j.useEffect)((function(){return E=setInterval((function(){a(c<M.length-1?c+1:0)}),5e3),function(){clearInterval(E)}})),Object(O.jsxs)("div",{className:"Carousel Carousel__header",children:[Object(O.jsx)("div",{className:"Carousel__container",children:M.map((function(e){return Object(O.jsx)("img",{src:e,alt:"slide",className:"Carousel__item",style:{transform:"translateX(".concat(100*-c,"%)")}},e)}))}),Object(O.jsxs)("div",{className:"scroll Carousel__scroll",children:[Object(O.jsx)("button",{type:"button",className:" button-small button-small--left button-small--carousel button-small--carousel--left ",onClick:function(){clearInterval(E);var e=c>0?c-1:M.length-1;a(e)},"aria-label":"Mute volume"}),Object(O.jsx)("button",{type:"button",className:" button-small button-small--right button-small--carousel button-small--carousel--right ",onClick:function(){clearInterval(E);var e=c<M.length-1?c+1:0;a(e)},"aria-label":"Mute volume"})]}),Object(O.jsx)("div",{className:"Carousel__indicators",children:M.map((function(e,t){return Object(O.jsx)("button",{type:"button",className:d()("Carousel__indicator",{"Carousel__indicator--active":t===c}),"aria-label":"Mute volume"},e)}))})]})},Q=function(e){return fetch(e).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},R=function(){return Q("".concat(I,"/products.json"))},J=(c(23),c(11)),$=b.a.createContext({query:"",setQuery:function(){}}),G=function(e){var t=e.children,c=Object(j.useState)(""),a=Object(o.a)(c,2),s=a[0],n=a[1],r=Object(j.useMemo)((function(){return{query:s,setQuery:n}}),[s]);return Object(O.jsx)($.Provider,{value:r,children:t})},U=(c(26),function(){var e=Object(l.e)().pathname,t=Object(j.useState)(""),c=Object(o.a)(t,2),a=c[0],s=c[1],n=Object(j.useContext)($).setQuery,r=["/phones","/tablets","/accessories","/favourites"],i=Object(j.useCallback)(Object(J.debounce)(n,1e3),[]);return Object(O.jsx)(O.Fragment,{children:r.find((function(t){return t===e}))&&Object(O.jsxs)("div",{className:"Search",children:[Object(O.jsx)("input",{type:"text",name:"search",value:a,placeholder:"Search in ".concat(e.slice(1),"..."),className:"Search__input",onChange:function(e){s(e.target.value),i(e.target.value)},onFocus:function(e){var t;null===(t=e.target.closest(".Search"))||void 0===t||t.classList.add("Search--focus"),e.target.classList.add("Search--focus")},onBlur:function(e){var t;null===(t=e.target.closest(".Search"))||void 0===t||t.classList.remove("Search--focus"),e.target.classList.remove("Search--focus")}}),a&&Object(O.jsx)("button",{type:"button","aria-label":"clear search",className:"Search__icon Search__icon--clear",onClick:function(){s(""),n("")},"data-cy":"searchDelete"}),!a&&Object(O.jsx)("div",{className:"Search__icon Search__icon--search"})]})})}),V=(c(27),function(){return Object(O.jsx)("nav",{className:"Nav",children:Object(O.jsx)("ul",{className:"Nav__list",children:k.map((function(e){var t=e.link,c=e.name;return Object(O.jsx)(i.c,{to:t,className:function(e){var t=e.isActive;return d()("link",{"link--active":t})},children:Object(O.jsx)("li",{className:"Nav__item",children:c})},t)}))})})}),Y=(c(28),function(e){var t=e.link,c=e.name,a=e.totalQty;return Object(O.jsx)(i.c,{to:t,className:function(e){var t=e.isActive;return d()("HeaderButton",{"HeaderButton--active":t})},children:Object(O.jsx)("div",{className:"HeaderButton__icon HeaderButton__icon--".concat(c),children:0!==a&&Object(O.jsx)("span",{className:"HeaderButton__count",children:a})})})}),z=(c(29),function(){var e=Object(j.useContext)(v).cart,t=Object(j.useContext)(P).fav;return Object(O.jsx)("header",{className:"Header",children:Object(O.jsxs)("div",{className:"Header__content",children:[Object(O.jsxs)("div",{className:"Header__left",children:[Object(O.jsx)(h,{}),Object(O.jsx)(V,{})]}),Object(O.jsxs)("div",{className:"Header__right",children:[Object(O.jsx)(U,{}),Object(O.jsx)(Y,{link:"/favourites",name:"fav",totalQty:t}),Object(O.jsx)(Y,{link:"/cart",name:"cart",totalQty:e})]})]})})}),W=function(){var e=Object(j.useState)([{title:"Mobile phones",amount:0,link:"phones"},{title:"Tablets",amount:0,link:"tablets"},{title:"Accessories",amount:0,link:"accessories"}]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)([]),n=Object(o.a)(s,2),r=n[0],l=n[1],u=Object(j.useState)([]),d=Object(o.a)(u,2),b=d[0],m=d[1];return Object(j.useEffect)((function(){R().then((function(e){var t=function(t){return e.filter((function(e){return e.type===t})).length},c=t("phone"),s=t("tablet"),n=t("accessory");a([{title:"Mobile phones",amount:c,link:"phones"},{title:"Tablets",amount:s,link:"tablets"},{title:"Accessories",amount:n,link:"accessories"}])})),R().then((function(e){return e.filter((function(e){return 0!==e.discount})).sort((function(e,t){return e.price*(e.discount/100)-t.price*(t.discount/100)}))})).then((function(e){return l(e)})),R().then((function(e){return e.filter((function(e){return 0===e.discount})).sort((function(e,t){return t.price-e.price}))})).then((function(e){return m(e)}))}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z,{}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(T,{}),Object(O.jsx)("div",{className:"page__section",children:Object(O.jsx)(q,{title:"Hot prices",products:r})}),Object(O.jsxs)("div",{className:"HomePage__category page__section",children:[Object(O.jsx)("h2",{className:"title page__title",children:"Shop by category"}),Object(O.jsx)("div",{className:"HomePage__category-container","data-cy":"categoryLinksContainer",children:c.map((function(e){var t=e.amount,c=e.link,a=e.title;return Object(O.jsxs)("div",{children:[Object(O.jsx)(i.c,{to:"/".concat(c),children:Object(O.jsx)("div",{className:"HomePage__category-img HomePage__category-img--".concat(c)})}),Object(O.jsx)("p",{className:"HomePage__category-link",children:a}),Object(O.jsx)("p",{className:"body-text body-text--light",children:"".concat(t," models")})]},c)}))})]}),Object(O.jsx)("div",{className:"page__section",children:Object(O.jsx)(q,{title:"Brand new models",products:b})})]})]})},X=(c(30),function(){return Object(O.jsx)("div",{className:"Loader",children:Object(O.jsx)("div",{className:"Loader__content"})})});!function(e){e.all="All",e[e.four=4]="four",e[e.eight=8]="eight",e[e.sixteen=16]="sixteen"}(a||(a={})),function(e){e.age="Newest",e.name="Alphabetically",e.price="Cheapest"}(s||(s={}));c(31);var K=function(e){var t=e.products;return Object(O.jsx)("div",{className:"ProductsList","data-cy":"productList",children:Object(O.jsx)("div",{className:"ProductsList__container",children:t.map((function(e){return Object(O.jsx)("div",{className:"ProductList__item",children:Object(O.jsx)(L,{product:e})},e.id)}))})})},Z=(c(32),function(e){var t=e.appliedQuery,c=e.products,a=Object(j.useState)([]),s=Object(o.a)(a,2),n=s[0],r=s[1];return Object(j.useMemo)((function(){r(c.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})))}),[t,c]),Object(O.jsxs)("div",{className:"SearchPage",children:[Object(O.jsx)("p",{className:"body-text body-text--light SearchPage__qty",children:"".concat(n.length," ").concat(1===n.length?"result":"results")}),Object(O.jsx)(K,{products:n})]})}),ee=(c(33),function(e){var t=e.name,c=Object(l.e)().pathname.split("/"),a=c[1],s=a[0].toUpperCase()+a.slice(1);return Object(O.jsxs)("div",{className:"Breadcrumbs","data-cy":"breadCrumbs",children:[Object(O.jsx)(i.b,{to:"/",children:Object(O.jsx)("div",{className:"Breadcrumbs__home"})}),Object(O.jsx)(i.b,{to:"/".concat(a),className:d()("Breadcrumbs__element","text",{"text--dark":c[2]}),children:s}),t&&Object(O.jsx)("p",{className:"Breadcrumbs__element text",children:t})]})});ee.defaultProps={name:""};c(34);var te=function(e){var t=e.category;return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"NoResults page__section",children:Object(O.jsx)("h1",{className:"title",children:"".concat(t," will appear soon...")})})})},ce=(c(35),function(e){var t=e.total,c=e.perPage,a=e.currentPage,s=e.onPageChange,n=Math.ceil(t/+c),r=Array(n).fill(0).map((function(e,t){return t+1})),i=1===a,l=a===n;return Object(O.jsxs)("div",{"data-cy":"pagination",className:"Pagination",children:[Object(O.jsx)("button",{type:"button","data-cy":"paginationLeft",onClick:function(){return s(a-1)},disabled:i,className:d()("button-small","button-small--left",{"button-small--left--disable":i}),"aria-label":"Left"}),Object(O.jsx)("div",{className:"Pagination__buttons-container",children:r.map((function(e){return Object(O.jsx)("button",{type:"button",onClick:function(){e!==a&&s(e)},className:d()("button-small","body-text","body-text--center",{"body-text--white Pagination__button--active":a===e}),children:e},e)}))}),Object(O.jsx)("button",{type:"button","data-cy":"paginationRight",onClick:function(){return s(a+1)},disabled:l,className:d()("button-small","button-small--right",{"button-small--right--disable":l}),"aria-label":"Right"})]})}),ae=(c(36),function(e){var t=e.options,c=e.selectedValue,a=e.handler,s=e.id,n=e.isSmall,r=Object(j.useState)(!1),i=Object(o.a)(r,2),l=i[0],u=i[1],b=Object(j.useRef)(null);Object(j.useEffect)((function(){var e=function(e){var t;null!==(t=b.current)&&void 0!==t&&t.contains(e.target)||u(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]);return Object(O.jsxs)("div",{className:d()("Select",{"Select--open":l},{"Select--small":n}),ref:b,children:[Object(O.jsx)("button",{type:"button",onClick:function(){return u(!l)},className:d()("Select__btn","body-text",{"Select__btn--open":l}),id:s,children:c}),l&&Object(O.jsx)("div",{className:"Select__content",children:t.map((function(e){return Object(O.jsx)("button",{type:"button",className:"Select__item-container body-text body-text--light",onClick:function(){return t="".concat(e),u(!1),void a(t);var t},children:e},e)}))})]})}),se=[s.age,s.name,s.price],ne=function(e){var t=e.productsFromServer,c=e.title,n=e.qtyOptions,r=Object(j.useState)(t),l=Object(o.a)(r,2),u=l[0],d=l[1],b=Object(j.useContext)($),m=b.query,h=b.setQuery,x=Object(i.d)(),p=Object(o.a)(x,2),_=p[0],f=p[1];Object(j.useEffect)((function(){h("")}),[]);var g=Object(j.useState)(_.get("perPage")||a.all),v=Object(o.a)(g,2),N=v[0],y=v[1],P=_.get("sort")||s.age,C=_.get("perPage")||u.length,S=_.get("page")||"1",k=+S*+C,F=k-+C,I=u.slice(F,k);Object(j.useMemo)((function(){d(u.sort((function(e,t){switch(P){case s.price:return D(e)-D(t);case s.name:return e.name.localeCompare(t.name);case s.age:default:return e.age-t.age}})))}),[P]);return Object(O.jsx)("div",{className:"ProductsPage page__section",children:Object(O.jsxs)("div",{className:"container",children:[m&&Object(O.jsx)(Z,{appliedQuery:m,products:u}),!m&&0===u.length&&Object(O.jsx)(te,{category:c}),!m&&u.length>0&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ee,{}),Object(O.jsx)("h1",{className:"title page__title--products",children:c}),Object(O.jsx)("p",{className:"body-text body-text--light ProductsPage__models",children:"".concat(u.length," models")}),Object(O.jsxs)("div",{className:"ProductsPage__selects",children:[Object(O.jsxs)("div",{className:"ProductsPage__select-container",children:[Object(O.jsx)("label",{className:"text ProductsPage__label",htmlFor:"sorter",children:"Sort by"}),Object(O.jsx)(ae,{options:se,selectedValue:P,handler:function(e){_.set("sort",e),f(_)},id:"sorter",isSmall:!1})]}),Object(O.jsxs)("div",{className:"ProductsPage__select-container",children:[Object(O.jsx)("label",{className:"text ProductsPage__label",htmlFor:"pager",children:"Items on page"}),Object(O.jsx)(ae,{options:n,selectedValue:N,handler:function(e){y(e),_.delete("page"),"All"===e?_.delete("perPage"):_.set("perPage",e),f(_)},id:"pager",isSmall:!0})]})]}),Object(O.jsx)(K,{products:I}),0!==u.length&&Object(O.jsx)(ce,{total:u.length,perPage:C,currentPage:+S,onPageChange:function(e){_.set("page","".concat(e)),f(_)}})]})]})})},re=(c(37),[a.all,a.four,a.eight,a.sixteen]),ie=function(){var e=Object(j.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)(!1),n=Object(o.a)(s,2),r=n[0],i=n[1];return Object(j.useEffect)((function(){i(!0),R().then((function(e){return e.filter((function(e){return"phone"===e.type}))})).then((function(e){a(e),i(!1)}))}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z,{}),r?Object(O.jsx)(X,{}):Object(O.jsx)(ne,{productsFromServer:c,title:"Mobile phones",qtyOptions:re})]})},le=function(){var e=Object(j.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(j.useState)(!1),r=Object(o.a)(n,2),i=r[0],l=r[1];return Object(j.useEffect)((function(){l(!0),R().then((function(e){return e.filter((function(e){return"tablet"===e.type}))})).then((function(e){s(e),l(!1)}))}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z,{}),i?Object(O.jsx)(X,{}):Object(O.jsx)(ne,{productsFromServer:c,title:"Tablets",qtyOptions:[a.all]})]})},oe=function(){var e=Object(j.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(j.useState)(!1),r=Object(o.a)(n,2),i=r[0],l=r[1];return Object(j.useEffect)((function(){l(!0),R().then((function(e){return e.filter((function(e){return"accessory"===e.type}))})).then((function(e){s(e),l(!1)}))}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z,{}),i?Object(O.jsx)(X,{}):Object(O.jsx)(ne,{productsFromServer:c,title:"Accessories",qtyOptions:[a.all]})]})},ue=(c(38),c(39),function(){var e=Object(l.f)();return Object(O.jsx)("button",{type:"button",onClick:function(){return e(-1)},"data-cy":"backButton",className:"BackButton text",children:"Back"})}),de=["gold","grey","black","white"],je=["64","256","512"],be=function(){var e=Object(j.useState)(null),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)(null),n=Object(o.a)(s,2),r=n[0],i=n[1],u=Object(j.useState)([]),b=Object(o.a)(u,2),m=b[0],h=b[1],x=Object(j.useState)(!1),p=Object(o.a)(x,2),_=p[0],f=p[1],g=Object(j.useState)(de[0]),v=Object(o.a)(g,2),N=v[0],P=v[1],C=Object(j.useState)(null),k=Object(o.a)(C,2),F=k[0],L=k[1],B=Object(j.useState)(je[0]),A=Object(o.a)(B,2),H=A[0],M=A[1],E=Object(j.useState)(!1),T=Object(o.a)(E,2),J=T[0],$=T[1],G=Object(j.useState)(null),U=Object(o.a)(G,2),V=U[0],Y=U[1],W=Object(j.useState)(null),K=Object(o.a)(W,2),Z=K[0],te=K[1],ce=Object(l.g)().productId;return Object(j.useEffect)((function(){var e;$(!0),ce&&((e=ce,Q("".concat(I,"/products/").concat(e,".json"))).then((function(e){a(e),L(e.images[0]);var t=[{title:"Screen",value:"".concat(e.display.screenSize)},{title:"Resolution",value:"".concat(e.display.screenResolution)},{title:"Processor",value:"".concat(e.hardware.cpu)},{title:"RAM",value:"".concat(e.storage.ram)}];Y(t),te([].concat(t,[{title:"Built in memory",value:"".concat(e.storage.flash)},{title:"Camera",value:"".concat(e.camera.primary)},{title:"Cell",value:"".concat(e.connectivity.cell)},{title:"OS",value:"".concat(e.android.os)}]))})).catch((function(){return f(!0)})),R().then((function(e){i(e.find((function(e){return e.id===ce})))})),R().then((function(e){return e.sort((function(){return.5-Math.random()})).slice(0,8)})).then((function(e){h(e),$(!1)}))),window.scrollTo(0,0)}),[ce]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z,{}),J&&Object(O.jsx)(X,{}),Object(O.jsxs)("div",{className:"container",children:[_&&Object(O.jsx)("h1",{className:"title",children:"Phone was not found"}),c&&r&&Object(O.jsxs)("div",{className:"ProductDetailsPage product",children:[Object(O.jsx)(ee,{name:c.name}),Object(O.jsx)(ue,{}),Object(O.jsx)("h2",{className:"title ProductDetailsPage__title",children:c.name}),Object(O.jsxs)("div",{className:"ProductDetailsPage__content",children:[Object(O.jsxs)("div",{className:"ProductDetailsPage__top page__section grid",children:[Object(O.jsx)("div",{className:"grid__item grid__item--1-2",children:Object(O.jsx)("div",{className:" ProductDetailsPage__images-small ",children:c.images.slice(0,5).map((function(e){return Object(O.jsx)("div",{className:"grid__item grid__item--1-2",children:Object(O.jsx)("button",{type:"button",className:d()("ProductDetailsPage__image-container",{"ProductDetailsPage__image-container--active":F===e}),onClick:function(){return L(e)},children:Object(O.jsx)("img",{src:"".concat(w,"/").concat(e),alt:"productImage",className:"ProductDetailsPage__image"})})},e)}))})}),Object(O.jsx)("div",{className:"grid__item grid__item--3-12",children:Object(O.jsx)("img",{src:"".concat(w,"/").concat(F),alt:"productImage",className:"ProductDetailsPage__image"})}),Object(O.jsx)("div",{className:"grid__item grid__item--14-20",children:Object(O.jsxs)("div",{className:"ProductDetailsPage__short-desc",children:[Object(O.jsxs)("div",{className:"ProductDetailsPage__short-desc-block",children:[Object(O.jsx)("p",{className:"text ProductDetailsPage__spec-name",children:"Available colors"}),Object(O.jsx)("div",{className:"ProductDetailsPage__spec-values",children:de.map((function(e){return Object(O.jsx)("button",{type:"button",className:d()("ProductDetailsPage__spec-color",{"ProductDetailsPage__spec-color--selected":e===N}),onClick:function(){return P(e)},children:Object(O.jsx)("div",{className:"\n                                ProductDetailsPage__spec-color\n                                ProductDetailsPage__spec-color-inner\n                                ProductDetailsPage__spec-color-inner--".concat(e,"\n                              ")})},e)}))})]}),Object(O.jsxs)("div",{className:" ProductDetailsPage__short-desc-block ProductDetailsPage__short-desc-block--last ",children:[Object(O.jsx)("p",{className:"text ProductDetailsPage__spec-name",children:"Select capacity"}),Object(O.jsx)("div",{className:"ProductDetailsPage__spec-values",children:je.map((function(e){return Object(O.jsx)("button",{type:"button",className:d()("body-text","ProductDetailsPage__spec-capacity",{"ProductDetailsPage__spec-capacity--selected":e===H,"body-text--white":e===H}),onClick:function(){return M(e)},children:"".concat(e," GB")},e)}))})]}),Object(O.jsxs)("div",{className:"product__price",children:[Object(O.jsx)("p",{className:"title",children:"$".concat(D(r))}),0!==r.discount&&Object(O.jsx)("p",{className:" product__price-discount body-text body-text--light ",children:"$".concat(r.price)})]}),Object(O.jsxs)("div",{className:" product__actions product__actions--ProductDetailsPage ",children:[Object(O.jsx)(y,{id:c.id,product:r,isLarge:!0}),Object(O.jsx)(S,{id:c.id,product:r,isLarge:!0})]}),Object(O.jsx)("div",{className:"product__details",children:null===V||void 0===V?void 0:V.map((function(e){return Object(O.jsxs)("div",{className:"product__details-pair",children:[Object(O.jsx)("p",{className:"text",children:e.title}),Object(O.jsx)("p",{className:" text text--dark ProductDetailsPage__details-value ",children:e.value})]},e.value)}))})]})}),Object(O.jsx)("div",{className:"grid__item grid__item--23-24",children:Object(O.jsx)("p",{className:"text text--light",children:"ID: ".concat(c.id)})})]}),Object(O.jsxs)("div",{className:"page__section grid",children:[Object(O.jsxs)("div",{className:"grid__item grid__item--1-12",children:[Object(O.jsx)("h3",{className:" title title--sub ProductDetailsPage__title--sub ",children:"About"}),Object(O.jsx)("p",{className:"body-text body-text--light",children:c.description})]}),Object(O.jsxs)("div",{className:"grid__item grid__item--14-24",children:[Object(O.jsx)("h3",{className:" title title--sub ProductDetailsPage__title--sub ",children:"Tech specs"}),Object(O.jsx)("div",{className:"product__details",children:null===Z||void 0===Z?void 0:Z.map((function(e){return Object(O.jsxs)("div",{className:"product__details-pair",children:[Object(O.jsx)("p",{className:"body-text body-text--light",children:e.title}),Object(O.jsx)("p",{className:" body-text product__details-value ",children:e.value})]},e.title)}))})]})]}),Object(O.jsx)("div",{className:"page__section",children:Object(O.jsx)(q,{title:"You may also like",products:m})})]})]})]})]})},me=c(9),Oe=(c(40),function(){var e=p("CartItems"),t=Object(j.useContext)(v),c=t.cart,a=t.setCart,s=Object(j.useState)(!1),n=Object(o.a)(s,2),r=n[0],l=n[1],u=Object(j.useState)(e),b=Object(o.a)(u,2),m=b[0],h=b[1],x=Object(j.useState)(e.reduce((function(e,t){return e+t.quantity}),0)),_=Object(o.a)(x,2),g=_[0],N=_[1],y=Object(j.useState)(e.reduce((function(e,t){return e+t.quantity*D(t.product)}),0)),P=Object(o.a)(y,2),C=P[0],S=P[1],k=function(e,t,s){N(e),g<e?(S(C+D(t)),a(c+1)):g>e&&(S(C-D(t)),a(c-1));var n=p("CartItems").map((function(e){return e.id===t.id?Object(me.a)(Object(me.a)({},e),{},{quantity:s}):e}));f("CartItems",n),h(n)};return Object(O.jsxs)("div",{className:"CartPage page__section",children:[Object(O.jsx)(z,{}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(ue,{}),Object(O.jsx)("h1",{className:"title CartPage__title",children:"Cart"}),Object(O.jsxs)("div",{className:"grid",children:[Object(O.jsxs)("div",{className:"grid__item grid__item--1-16",children:[0===m.length&&Object(O.jsx)("p",{className:"body-text",children:"Your cart is empty now"}),m.map((function(e){var t,s=null===(t=F(e.product.type))||void 0===t?void 0:t.link;return Object(O.jsxs)("div",{className:"CartPage__card",children:[Object(O.jsxs)("div",{className:"CartPage__card-left",children:[Object(O.jsx)("button",{type:"button","aria-label":"remove",className:"CartPage__cross",onClick:function(){return function(e){var t=p("CartItems").filter((function(t){return t.id!==e.id}));f("CartItems",t),h(t),N(g-e.quantity),S(C-e.quantity*D(e.product)),a(c-e.quantity)}(e)},"data-cy":"cartDeleteButton"}),Object(O.jsx)(i.b,{to:"".concat(s,"/").concat(e.id),children:Object(O.jsx)("img",{src:"".concat(w,"/").concat(e.product.imageUrl),alt:"product_image",className:"CartPage__image"})}),Object(O.jsx)("p",{className:"CartPage__name body-text",children:e.product.name})]}),Object(O.jsxs)("div",{className:"CartPage__card-right",children:[Object(O.jsxs)("div",{className:"CartPage__actions",children:[Object(O.jsx)("button",{type:"button",className:d()("button-small","button-small--remove",{"button-small--remove--disable":1===e.quantity}),onClick:function(){k(g-1,e.product,e.quantity-1)},"aria-label":"remove",disabled:1===e.quantity}),Object(O.jsx)("p",{className:" body-text body-text--center CartPage__item-qty ",children:e.quantity}),Object(O.jsx)("button",{type:"button",className:d()("button-small","button-small--add"),onClick:function(){k(g+1,e.product,e.quantity+1)},"aria-label":"add"})]}),Object(O.jsx)("p",{className:"CartPage__item-price title title--sub",children:"$".concat(D(e.product)*e.quantity)})]})]},e.id)}))]}),Object(O.jsxs)("div",{className:"grid__item grid__item--17-24",children:[Object(O.jsxs)("div",{className:"CartPage__card-total",children:[Object(O.jsxs)("p",{className:"title CartPage__price-total",children:["$",C]}),Object(O.jsx)("p",{className:"body-text body-text--light CartPage__text-total","data-cy":"productQauntity",children:"Total for ".concat(g," items")}),Object(O.jsx)("button",{type:"button",className:"button body-text CartPage__checkout",onClick:function(){l(!0),setTimeout((function(){l(!1)}),2e3)},children:"Checkout"})]}),r&&Object(O.jsxs)("p",{className:"body-text body-text--center",children:["We are sorry,",Object(O.jsx)("br",{}),"but this feature is not implemented yet"]})]})]})]})]})}),he=(c(41),function(){var e=Object(j.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(j.useContext)(P).fav,n=Object(j.useContext)($),r=n.query,i=n.setQuery;return Object(j.useMemo)((function(){var e=localStorage.getItem("FavItems"),t=e?JSON.parse(e):[];a(t)}),[s]),Object(j.useEffect)((function(){i("")}),[]),Object(O.jsxs)("div",{className:"FavouritesPage page__section",children:[Object(O.jsx)(z,{}),Object(O.jsxs)("div",{className:"container",children:[!r&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ee,{}),Object(O.jsx)("h1",{className:"title page__title--products",children:"Favourites"}),Object(O.jsx)("p",{className:"body-text body-text--light FavouritesPage__qty",children:"".concat(c.length," models")}),Object(O.jsx)(K,{products:c})]}),r&&Object(O.jsx)(Z,{appliedQuery:r,products:c})]})]})}),xe=(c(42),function(){return Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"NotFoundPage",children:[Object(O.jsx)("h1",{className:"title",children:"Page not found"}),Object(O.jsx)(i.b,{to:"/",className:"link",children:"Home page"})]})})}),pe=function(){return Object(O.jsx)(G,{children:Object(O.jsx)(N,{children:Object(O.jsx)(C,{children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("div",{className:"App__main",children:Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{path:"/",element:Object(O.jsx)(W,{})}),Object(O.jsxs)(l.a,{path:"/phones",children:[Object(O.jsx)(l.a,{index:!0,element:Object(O.jsx)(ie,{})}),Object(O.jsx)(l.a,{path:":productId",element:Object(O.jsx)(be,{})})]}),Object(O.jsxs)(l.a,{path:"/tablets",children:[Object(O.jsx)(l.a,{index:!0,element:Object(O.jsx)(le,{})}),Object(O.jsx)(l.a,{path:":productId",element:Object(O.jsx)(be,{})})]}),Object(O.jsx)(l.a,{path:"/accessories",element:Object(O.jsx)(oe,{})}),Object(O.jsx)(l.a,{path:"/cart",element:Object(O.jsx)(Oe,{})}),Object(O.jsx)(l.a,{path:"/favourites",element:Object(O.jsx)(he,{})}),Object(O.jsx)(l.a,{path:"*",element:Object(O.jsx)(xe,{})})]})}),Object(O.jsx)(x,{})]})})})})};r.a.render(Object(O.jsx)(i.a,{children:Object(O.jsx)(pe,{})}),document.getElementById("root"))}],[[43,1,2]]]);
//# sourceMappingURL=main.fa500838.chunk.js.map